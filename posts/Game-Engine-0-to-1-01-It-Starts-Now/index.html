<!DOCTYPE html><html lang="en" data-theme="dark"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Game Engine 0 to 1 (01): It Starts Now | TONY'S STUDIO</title><meta name="author" content="Tony Lewis"><meta name="copyright" content="Tony Lewis"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#300303"><meta name="description" content="Game Engine Series 01: Project setup">
<meta property="og:type" content="article">
<meta property="og:title" content="Game Engine 0 to 1 (01): It Starts Now">
<meta property="og:url" content="https://blog.tonys-studio.top/posts/Game-Engine-0-to-1-01-It-Starts-Now/">
<meta property="og:site_name" content="TONY&#39;S STUDIO">
<meta property="og:description" content="Game Engine Series 01: Project setup">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://tonys-studio-1308383348.cos.ap-beijing.myqcloud.com/blog/static/cover/mando/10/03.jpeg">
<meta property="article:published_time" content="2025-06-01T06:45:32.000Z">
<meta property="article:modified_time" content="2025-09-03T05:21:38.220Z">
<meta property="article:author" content="Tony Lewis">
<meta property="article:tag" content="C&#x2F;C++">
<meta property="article:tag" content="Game Engine 0 to 1">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://tonys-studio-1308383348.cos.ap-beijing.myqcloud.com/blog/static/cover/mando/10/03.jpeg"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Game Engine 0 to 1 (01): It Starts Now",
  "url": "https://blog.tonys-studio.top/posts/Game-Engine-0-to-1-01-It-Starts-Now/",
  "image": "https://tonys-studio-1308383348.cos.ap-beijing.myqcloud.com/blog/static/cover/mando/10/03.jpeg",
  "datePublished": "2025-06-01T06:45:32.000Z",
  "dateModified": "2025-09-03T05:21:38.220Z",
  "author": [
    {
      "@type": "Person",
      "name": "Tony Lewis",
      "url": "https://tonys-studio.top"
    }
  ]
}</script><link rel="shortcut icon" href="https://tonys-studio-1308383348.cos.ap-beijing.myqcloud.com/blog/static/favicon.svg"><link rel="canonical" href="https://blog.tonys-studio.top/posts/Game-Engine-0-to-1-01-It-Starts-Now/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//hm.baidu.com"/><link rel="preconnect" href="//www.clarity.ms"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="baidu-site-verification" content="codeva-R6O16YoeQt"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#300303')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'undefined')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          const mediaQueryDark = window.matchMedia('(prefers-color-scheme: dark)')
          const mediaQueryLight = window.matchMedia('(prefers-color-scheme: light)')

          if (theme === undefined) {
            if (mediaQueryLight.matches) activateLightMode()
            else if (mediaQueryDark.matches) activateDarkMode()
            else {
              const hour = new Date().getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            mediaQueryDark.addEventListener('change', () => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else {
            theme === 'light' ? activateLightMode() : activateDarkMode()
          }
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?68629f5da0a0c3347b896920fbf164b5";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
btf.addGlobalFn('pjaxComplete', () => {
  _hmt.push(['_trackPageview',window.location.pathname])
}, 'baidu_analytics')
</script><script>(function(c,l,a,r,i,t,y){
    c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
    t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
    y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
})(window, document, "clarity", "script", "sthrplbt7c");
</script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":10,"unescape":false,"languages":{"hits_empty":"No results found for: ${query}","hits_stats":"${hits} articles found"}},
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":300,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: 'Copy Successful',
    error: 'Copy Failed',
    noSupport: 'Browser Not Supported'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: 'days',
  dateSuffix: {
    just: 'Just now',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: {"limitCount":256,"languages":{"author":"Author: Tony Lewis","link":"Link: ","source":"Source: TONY'S STUDIO","info":"Copyright belongs to the author. For commercial use, please contact the author for authorization. For non-commercial use, please indicate the source."}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"You have switched to Traditional Chinese","cht_to_chs":"You have switched to Simplified Chinese","day_to_night":"You have switched to Dark Mode","night_to_day":"You have switched to Light Mode","bgLight":"#871798","bgDark":"#C81025","position":"bottom-left"},
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: 'Load More'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Game Engine 0 to 1 (01): It Starts Now',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><link rel="stylesheet" href="https://tonys-studio-1308383348.cos.ap-beijing.myqcloud.com/blog/static/source/custom.min.css"><!-- hexo injector head_end start --><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-butterfly-footer-beautify@1.0.6/lib/runtime.min.css" media="print" onload="this.media='all'"><!-- hexo injector head_end end --><meta name="generator" content="Hexo 5.4.2"></head><body><script>window.paceOptions = {
  restartOnPushState: false
}

btf.addGlobalFn('pjaxSend', () => {
  Pace.restart()
}, 'pace_restart')

</script><link rel="stylesheet" href="https://tonys-studio-1308383348.cos.ap-beijing.myqcloud.com/blog/css/barber-shop.css"/><script src="https://cdn.jsdelivr.net/npm/pace-js/pace.min.js"></script><div id="web_bg" style="background-image: url(https://tonys-studio-1308383348.cos.ap-beijing.myqcloud.com/blog/static/background.png);"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="https://tonys-studio-1308383348.cos.ap-beijing.myqcloud.com/blog/static/avatar.png" onerror="this.onerror=null;this.src='https://tonys-studio-1308383348.cos.ap-beijing.myqcloud.com/blog/static/missing.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">93</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">84</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">40</div></a></div><div class="menus_items"><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-newspaper"></i><span> Posts</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/gallery/"><i class="fa-fw fas fa-images"></i><span> Gallery</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Links</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-jedi fa-beat"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(https://tonys-studio-1308383348.cos.ap-beijing.myqcloud.com/blog/static/cover/mando/10/03.jpeg);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><img class="site-icon" src="https://tonys-studio-1308383348.cos.ap-beijing.myqcloud.com/blog/static/logo.svg" alt="Logo"><span class="site-name">TONY'S STUDIO</span></a><a class="nav-page-title" href="/"><span class="site-name">Game Engine 0 to 1 (01): It Starts Now</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  Back to Home</span></span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> Search</span></span></div><div class="menus_items"><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-newspaper"></i><span> Posts</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/gallery/"><i class="fa-fw fas fa-images"></i><span> Gallery</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Links</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-jedi fa-beat"></i><span> About</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">Game Engine 0 to 1 (01): It Starts Now</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2025-06-01T06:45:32.000Z" title="Created Jun. 1st, 2025 - 14:45:32 14:45:32">Jun. 1st, 2025 - 14:45:32</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2025-09-03T05:21:38.220Z" title="Updated Sep. 3rd, 2025 - 13:21:38 13:21:38">Sep. 3rd, 2025 - 13:21:38</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Game-Hobby/">Game &amp; Hobby</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Game-Hobby/Game-Development/">Game Development</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">Word Count:</span><span class="word-count">5k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">Reading Time:</span><span>20mins</span></span><span class="post-meta-separator">|</span><span id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post Views:</span><span class="waline-pageview-count" data-path="/posts/Game-Engine-0-to-1-01-It-Starts-Now/"><i class="fa-solid fa-spinner fa-spin"></i></span></span><span class="post-meta-separator">|</span><span class="post-meta-commentcount"><i class="far fa-comments fa-fw post-meta-icon"></i><span class="post-meta-label">Comments:</span><a href="/posts/Game-Engine-0-to-1-01-It-Starts-Now/#post-comment"><span class="waline-comment-count" data-path="/posts/Game-Engine-0-to-1-01-It-Starts-Now/"><i class="fa-solid fa-spinner fa-spin"></i></span></a></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><p style="text-align: center; font-size: x-large"><b>[01] It Starts Now</b></p>

<p style="text-align: center"><i>&ldquo;If you truly expect something to be difficult, it will be.&rdquo;</i></p>
<p style="text-align: right"><i>&mdash; Peter A. Cohen</i></p>

<div class="note primary flat"><p>ä½ å¯ä»¥åœ¨ <a href="/tags/Game-Engine-0-to-1/">Game Engine 0 to 1</a> æ ‡ç­¾ä¸‹æµè§ˆè¯¥ç³»åˆ—çš„æ‰€æœ‰æ–‡ç« ã€‚</p>
</div>

<div class="note success flat"><p>DungineX å®Œå…¨å¼€æºï¼Œä»£ç æ‰˜ç®¡åœ¨ <a target="_blank" rel="noopener" href="https://github.com/Lord-Turmoil/DungineX">GitHub</a>ï¼Œæœ¬ç« å¯¹åº”<a target="_blank" rel="noopener" href="https://github.com/Lord-Turmoil/DungineX/tree/0.1.0">ğŸ·ï¸0.1.0</a>ã€‚</p>
</div>

<hr>
<h1 id="Think-Twice"><a href="#Think-Twice" class="headerlink" title="Think Twice"></a>Think Twice</h1><p>åœ¨å¼€å§‹åˆ›å»ºæˆ‘ä»¬çš„é¡¹ç›®å‰ï¼Œè¿˜æ˜¯åº”è¯¥åœä¸‹æ¥æ€è€ƒä¸€ä¸ªé—®é¢˜ï¼šæˆ‘ä»¬å¸Œæœ›å¦‚ä½•ç»„ç»‡æˆ‘ä»¬çš„ä»£ç ï¼Ÿè¿™ä¸€é—®é¢˜å…¶å®éšå«äº†è®¸å¤šå°é—®é¢˜ï¼Œä¸‹é¢ç®€å•åˆ—å‡ºä¸€äº›ï¼Œä¸è¿‡æš‚æ—¶è¿˜ä¸å¤ªæ¶‰åŠåˆ°ä»£ç å±‚é¢çš„è®¾è®¡ã€‚</p>
<ul>
<li>æˆ‘ä»¬ä½¿ç”¨ä»€ä¹ˆå·¥å…·è¿›è¡Œé¡¹ç›®ç®¡ç†ï¼ŸMS Solution è¿˜æ˜¯ CMakeï¼Œæˆ–æ˜¯å…¶ä»–ï¼Ÿ</li>
<li>æˆ‘ä»¬å¦‚ä½•å¯¹æ–‡ä»¶è¿›è¡Œå¸ƒå±€ï¼Œæ€æ ·ç®¡ç†ç¬¬ä¸‰æ–¹ä¾èµ–ï¼Ÿ</li>
<li>æœ€ç»ˆ DungineX çš„å½¢æ€æ˜¯æ€æ ·çš„ï¼Ÿ</li>
</ul>
<p>è¿™äº›é—®é¢˜å…¶å®å¾ˆå¤§ç¨‹åº¦ä¸Šå–å†³äºä¸ªäººçš„åå¥½ï¼Œè¿™é‡Œç»™å‡ºæˆ‘ä¸ªäººçš„å›ç­”ï¼Œä»¥åŠç›¸åº”çš„ç†ç”±ã€‚</p>
<p>å¯¹äºé¡¹ç›®ç®¡ç†æ–¹å¼ï¼Œå³ Build Systemï¼Œè¿™é‡Œé€‰æ‹© CMakeã€‚è™½ç„¶å¯¹äº C++ æ¥è¯´ï¼Œå¹¶æ²¡æœ‰ä¸€ä¸ªæ ‡å‡†çš„é¡¹ç›®ç®¡ç†å·¥å…·ï¼Œä½†æ˜¯ CMake å·²ç»æ˜¯ C++ çš„ de-facto standard äº†ã€‚è€Œä¸”æˆ‘ä»¬çš„ä¾èµ–ï¼Œä¾‹å¦‚ SDL ç­‰ï¼Œä¹Ÿéƒ½æ˜¯ç”¨ CMake è¿›è¡Œç®¡ç†ï¼Œå› æ­¤é›†æˆæˆæœ¬ä¼šç›¸å¯¹è¾ƒä½ã€‚æ­¤å¤–ï¼Œç°ä»£çš„ IDE å¯¹ CMake çš„æ”¯æŒä¹Ÿéƒ½ååˆ†å®Œå–„ï¼Œæ‰€ä»¥ä½¿ç”¨èµ·æ¥ä¹Ÿä¸ä¼šå¾ˆå›°éš¾ã€‚</p>
<p>åœ¨ç¡®å®šä½¿ç”¨ CMake åï¼Œå…¶å®ä¹Ÿå°±å¾ˆå¥½å›ç­”ç¬¬äºŒä¸ªé—®é¢˜äº†ï¼Œæˆ‘ä»¬åªéœ€è¦æŒ‰ç…§ç»å…¸çš„ CMake é¡¹ç›®ç»“æ„è¿›è¡Œç»„ç»‡å³å¯ã€‚å½“ç„¶ï¼Œè¿™é‡Œä¹Ÿä¼šæœ‰ä¸ªäººåå¥½çš„å­˜åœ¨ã€‚æˆ‘ä»¬éœ€è¦æœ‰æˆ‘ä»¬çš„ DungineX ä»¥åŠç¬¬ä¸‰æ–¹ä¾èµ–ï¼Œæ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜æƒ³æœ‰å•å…ƒæµ‹è¯•ä»¥åŠ Demoã€‚æ‰€ä»¥åŸºæœ¬çš„ç›®å½•ç»“æ„ä¹Ÿå°±æ˜¯è¿™äº›ï¼Œæˆ‘ä»¬åªéœ€è¦ç»„ç»‡æ•´é½å³å¯ã€‚</p>
<p>æœ€åï¼Œæˆ‘ä»¬ DungineX å¦‚ä½•å‘å¸ƒï¼Ÿå¯¹äºæ¸¸æˆå¼•æ“ï¼Œè‡ªç„¶å°±ä¸èƒ½æ˜¯æˆ‘ä»¬å¸¸è§çš„å¯æ‰§è¡Œæ–‡ä»¶äº†ï¼Œè€Œæ˜¯ç”¨é™æ€æˆ–åŠ¨æ€é“¾æ¥åº“çš„å½¢å¼ï¼Œå› æ­¤æˆ‘ä»¬è¿˜éœ€è¦è€ƒè™‘åº“çš„ç¼–å†™ã€‚</p>
<p>å½“ç„¶ï¼Œè¿™äº›ä¸æ˜¯æƒ³æƒ³å°±èƒ½å¾—å‡ºç»“æœçš„ï¼Œè¿˜éœ€è¦ä¸€å®šçš„ç»éªŒç§¯ç´¯ã€‚ä¸å¹¸çš„æ˜¯ï¼Œç»éªŒç§¯ç´¯å¹¶ä¸èƒ½ç®€å•çš„é€šè¿‡æ–‡å­—è¡¨è¿°å‡ºæ¥ï¼Œæ‰€ä»¥ï¼Œå°±è®©æˆ‘ä»¬ç›´æ¥å¼€å§‹å§ã€‚</p>
<hr>
<h1 id="Let-the-Fun-Begin"><a href="#Let-the-Fun-Begin" class="headerlink" title="Let  the Fun Begin!"></a>Let  the Fun Begin!</h1><h2 id="åˆ›å»º-CMake-é¡¹ç›®"><a href="#åˆ›å»º-CMake-é¡¹ç›®" class="headerlink" title="åˆ›å»º CMake é¡¹ç›®"></a>åˆ›å»º CMake é¡¹ç›®</h2><div class="note info flat"><p>This is the official tutorial video from SDL3: <a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=Mi47TQ4Tsr8">How to setup SDL3 as a git submodule with Modern CMake</a>.</p>
</div>

<p>æˆ‘ä»¬åˆšåˆšå·²ç»è®¨è®ºè¿‡äº†é¡¹ç›®çš„åŸºæœ¬ç»“æ„ï¼Œå› æ­¤è¿™é‡Œæˆ‘ä»¬å¯ä»¥ç›´æ¥åˆ›å»ºå…·ä½“çš„æ–‡ä»¶å¤¹ã€‚åŒæ—¶ï¼Œæˆ‘ä»¬ä½¿ç”¨ Git è¿›è¡Œç‰ˆæœ¬æ§åˆ¶ï¼Œä¸ºäº†å‡å°ä»“åº“çš„å¤§å°ï¼Œä¸€ä¸ªæ¯”è¾ƒæ ‡å‡†çš„åšæ³•æ˜¯å°†å¯¹åº”ä¾èµ–ä½œä¸º submoduleï¼Œè¿™é‡Œæˆ‘ä»¬æŠŠå®ƒä»¬éƒ½æ³¨å†Œåˆ° Vendor ç›®å½•ä¸‹ã€‚è¿™é‡Œæœ‰ä¸€ä¸ªä¾èµ–æˆ‘ä»¬ä¹‹å‰æ²¡æœ‰æåˆ°ï¼Œæ˜¯ <a target="_blank" rel="noopener" href="https://github.com/gabime/spdlog">spdlog</a>ï¼Œç”¨ä½œä¹‹åçš„æ—¥å¿—è¾“å‡ºã€‚</p>
<img src="/posts/Game-Engine-0-to-1-01-It-Starts-Now/image-20250529181338366.png" alt="image-20250529181338366" style="zoom:80%;">

<div class="note info flat"><p>å…·ä½“ CMake çš„ä¸€äº›ç¼–å†™å°±ä¸å†èµ˜è¿°äº†ï¼Œå¯ä»¥ç›´æ¥å‚è€ƒä»“åº“ä¸­çš„æºç ã€‚</p>
</div>

<div class="note success flat"><p>è¿™é‡Œæˆ‘ä½¿ç”¨çš„æ˜¯ <a target="_blank" rel="noopener" href="https://visualstudio.microsoft.com/vs/">Visual Studio</a> + <a target="_blank" rel="noopener" href="https://www.jetbrains.com/resharper/">Resharper</a> çš„å¼€å‘ç¯å¢ƒã€‚å½“ç„¶ <a target="_blank" rel="noopener" href="https://code.visualstudio.com/">Visual Studio Code</a> åŒæ ·å¯ä»¥å®‰è£…ç›¸å…³æ’ä»¶è·å¾— CMake æ”¯æŒã€‚</p>
</div>

<p>è¿™é‡Œæˆ‘æƒ³é‡ç‚¹è®¨è®ºçš„ï¼Œæ˜¯å¦‚ä½•è®©è¿™ä¸ª CMake é¡¹ç›®çœ‹èµ·æ¥æ›´åŠ ä¸“ä¸šã€‚å½“ç„¶ï¼Œä¹Ÿæœ‰ä¸€äº›å°æŠ€å·§ã€‚</p>
<h3 id="Git-submodule"><a href="#Git-submodule" class="headerlink" title="Git submodule"></a>Git submodule</h3><p>å¯¹äº C&#x2F;C++ è¿™ç§ç¼ºå°‘ç»Ÿä¸€åŒ…ç®¡ç†çš„è¯­è¨€æ¥è¯´ï¼Œå°†ä¾èµ–ä½œä¸º submodule æ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ï¼Œä»è€Œèƒ½å¤Ÿè¿›è¡Œç»Ÿä¸€çš„æ„å»ºã€‚</p>
<p>å…·ä½“åœ°ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å¦‚ä¸‹çš„å‘½ä»¤ä¸º Git ä»“åº“æ·»åŠ ä¸€ä¸ª submoduleï¼Œå¦‚æœä¸æä¾› <code>path</code>ï¼Œåˆ™é»˜è®¤æ·»åŠ åˆ°é¡¹ç›®æ ¹ç›®å½•ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git submodule add url [path]</span><br></pre></td></tr></table></figure>

<p>å½“æˆ‘ä»¬è¦æ›´æ–°ä¾èµ–æ—¶ï¼Œå¯ä»¥ç®€å•çš„ç”¨ä¸‹é¢çš„å‘½ä»¤ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git submodule update --init --recursive</span><br></pre></td></tr></table></figure>

<div class="note warning flat"><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç”±äº SDL çš„ä»“åº“å¾ˆå¤§ï¼Œæ‰€ä»¥ä½ å¯èƒ½éœ€è¦ä¸€ä¸ªç¨å¾®ç¨³å®šçš„ç½‘ç»œè¿æ¥ã€‚</p>
</div>

<h3 id="ç¬¬ä¸‰æ–¹ä¾èµ–ç®¡ç†"><a href="#ç¬¬ä¸‰æ–¹ä¾èµ–ç®¡ç†" class="headerlink" title="ç¬¬ä¸‰æ–¹ä¾èµ–ç®¡ç†"></a>ç¬¬ä¸‰æ–¹ä¾èµ–ç®¡ç†</h3><p>ä¸ºäº†ä½¿ç”¨ SDL çš„æ›´å¤šåŠŸèƒ½ï¼Œä¾‹å¦‚åŠ è½½å­—ä½“ã€å›¾ç‰‡ç­‰ï¼Œæˆ‘ä»¬è¿˜éœ€è¦å¼•å…¥ä¸€äº›é¢å¤–çš„ SDL ç»„ä»¶ã€‚å¯¹äºå­—ä½“æ”¯æŒï¼Œæˆ‘ä»¬éœ€è¦ <a target="_blank" rel="noopener" href="https://github.com/libsdl-org/SDL_ttf">SDL_ttf</a>ï¼Œè€Œå¯¹äºå›¾ç‰‡åŠ è½½ï¼Œæˆ‘ä»¬éœ€è¦ <a target="_blank" rel="noopener" href="https://github.com/libsdl-org/SDL_image">SDL_image</a>ã€‚å½“ç„¶ï¼ŒSDL è¿˜æœ‰éŸ³é¢‘æ”¯æŒï¼Œä¸è¿‡ä½œä¸ºæ¸¸æˆå¼•æ“ï¼Œä¹‹å‰æåˆ°çš„ <a target="_blank" rel="noopener" href="https://www.fmod.com/">FMOD</a> æ˜¯ä¸€ä¸ªç›¸å¯¹æ›´ä¸“ä¸šçš„åº“ã€‚ç”±äºæš‚æ—¶æˆ‘ä»¬è¿˜ä¸æ¶‰åŠéŸ³é¢‘çš„å¤„ç†ï¼Œè¿™éƒ¨åˆ†å†…å®¹ä¼šåœ¨ä¹‹åè¿›è¡Œä»‹ç»ã€‚</p>
<p>å½“ç¬¬ä¸‰æ–¹åº“å¤šèµ·æ¥æ—¶ï¼Œé“¾æ¥å®ƒä»¬å°±æ˜¾å¾—æœ‰äº›éº»çƒ¦ã€‚æ¯å½“æ·»åŠ ä¸€ä¸ªä¾èµ–ï¼Œä¸ä»…è¦æ”¹åŠ¨ Vender&#x2F; ä¸‹çš„ CMakeLists.txtï¼Œè¿˜è¦æ”¹åŠ¨ DungineX&#x2F; é‡Œçš„ CMakeLists.txtã€‚å¯¹æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å°†ä¾èµ–å…¨éƒ¨ä¾èµ–é¦–å…ˆæ‰“åŒ…æˆä¸€ä¸ª <code>interface</code> ç±»å‹çš„ç›®æ ‡ï¼Œä½œä¸ºæ‰€æœ‰ç¬¬ä¸‰æ–¹ä¾èµ–çš„é“¾æ¥ã€‚å…·ä½“è¿™ä¸€ç›®æ ‡çš„åˆ›å»ºæ–¹å¼å¦‚ä¸‹ï¼Œæ›´è¯¦ç»†çš„å†…å®¹å¯å‚è€ƒå…·ä½“çš„ <a target="_blank" rel="noopener" href="https://github.com/Lord-Turmoil/DungineX/blob/0.1.0/Vendor/CMakeLists.txt">Vendor&#x2F;CMakeLists.txt</a>ã€‚</p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">target_link_libraries</span>(DgeX_Vendor INTERFACE </span><br><span class="line">    SDL3_ttf::SDL3_ttf</span><br><span class="line">    SDL3_image::SDL3_image</span><br><span class="line">    SDL3::SDL3 <span class="comment"># SDL must be the last item in the list.</span></span><br><span class="line">    spdlog::spdlog</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<div class="note warning flat"><p>è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¿…é¡»é¦–å…ˆä½¿ç”¨ <code>add_subdirectory(SDL)</code> æ·»åŠ  SDL ä¾èµ–ï¼Œæ‰èƒ½ç¡®ä¿ SDL_ttf å’Œ SDL_image èƒ½å¤Ÿè·å–æ­£ç¡®çš„é…ç½®ã€‚ä½†æ˜¯åœ¨æ·»åŠ ä¾èµ–æ—¶ï¼ŒSDL3::SDL3 å¿…é¡»æ˜¯æœ€åä¸€ä¸ªã€‚</p>
</div>

<p>è¿™é‡Œï¼Œç»†å¿ƒçš„ä½ å¯èƒ½æ³¨æ„åˆ°ï¼Œæˆ‘ä»¬é“¾æ¥çš„ç¬¬ä¸‰æ–¹åº“éƒ½æ˜¯ <code>XX::XX</code> çš„æ ¼å¼ã€‚è¿™å…¶å®æ˜¯ç›®æ ‡åˆ«åï¼ˆTarget Aliasï¼‰ï¼Œå¯ä»¥æ›´æ–¹ä¾¿åœ°ç®¡ç†ä¾èµ–<del>ï¼Œå¹¶ä¸”è®©æˆ‘ä»¬çš„ CMake é¡¹ç›®æ›´åŠ é«˜çº§</del>ã€‚å…³äºè¿™ä¸€ç‚¹ï¼Œä¼šåœ¨ç¨åå…·ä½“ä»‹ç»ã€‚</p>
<h3 id="æ›´å¥½çš„-CMake-é¡¹ç›®ç»“æ„"><a href="#æ›´å¥½çš„-CMake-é¡¹ç›®ç»“æ„" class="headerlink" title="æ›´å¥½çš„ CMake é¡¹ç›®ç»“æ„"></a>æ›´å¥½çš„ CMake é¡¹ç›®ç»“æ„</h3><div class="note info flat"><p>æ›´å¤š CMake æŠ€å·§çš„ä»‹ç»å¯ä»¥å‚è€ƒ <a href="/posts/Modern-C-Project-with-CMake/">Modern C++ Project With CMake</a>ã€‚å½“ç„¶ï¼ŒDungineX å…¨éƒ¨éƒ½ä½¿ç”¨åˆ°äº†ã€‚</p>
</div>

<p>å½“ç„¶ï¼Œå¦‚æœä½ ä¹Ÿä¸€æ ·ï¼Œå¯¹é¡¹ç›®ç»“æ„æœ‰ä¸€å®šçš„â€œå¼ºè¿«ç—‡â€ï¼Œé‚£ä½ å¯èƒ½éœ€è¦å¤šèŠ±ä¸€äº›æ—¶é—´æ•´ç†ä½ çš„é¡¹ç›®ã€‚æ¯”å¦‚ï¼Œä½ å¸Œæœ›æ·»åŠ ä¸€ä¸ª <code>utils.cmake</code> åŒ…å«ä¸€äº›è‡ªå®šä¹‰çš„å‡½æ•°ï¼Œæˆ–è€…å¢åŠ å•å…ƒæµ‹è¯•ç›®å½•ï¼Œåˆæˆ–æ˜¯æƒ³åœ¨ CMakeLists.txt æ·»åŠ ä¸€äº›é€‰é¡¹æˆ–è€…æ³¨é‡Šã€‚</p>
<h2 id="Minimal-DungineX"><a href="#Minimal-DungineX" class="headerlink" title="Minimal DungineX"></a>Minimal DungineX</h2><p>Now, letâ€™s implement a minimal library, so that we can play with the compiler.</p>
<h3 id="Standard-project-structure"><a href="#Standard-project-structure" class="headerlink" title="Standard project structure"></a>Standard project structure</h3><p>For a CMake project, a standard project layout would be as follows. To prevent naming conflicts, a common practice is adding an extra directory so that we will include <code>DgeX/DgeX.h</code> instead of <code>DgeX.h</code> only.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">DungineX</span><br><span class="line">|-- include</span><br><span class="line">|   `-- DgeX</span><br><span class="line">|       `-- DgeX.h</span><br><span class="line">|-- src</span><br><span class="line">`-- CMakeLists.txt</span><br></pre></td></tr></table></figure>

<p>Then, in CMakeLists.txt, we can just add our source file and include directories.</p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">file</span>(GLOB_RECURSE DGEX_SOURCES CONFIGURE_DEPENDS </span><br><span class="line">    <span class="string">&quot;$&#123;PROJECT_SOURCE_DIR&#125;/include/*.h&quot;</span></span><br><span class="line">    <span class="string">&quot;$&#123;PROJECT_SOURCE_DIR&#125;/src/*.h&quot;</span></span><br><span class="line">    <span class="string">&quot;$&#123;PROJECT_SOURCE_DIR&#125;/src/*.cpp&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">target_include_directories</span>(</span><br><span class="line">    <span class="variable">$&#123;target_name&#125;</span></span><br><span class="line">    PUBLIC <span class="variable">$&#123;CMAKE_CURRENT_LIST_DIR&#125;</span>/<span class="keyword">include</span></span><br><span class="line">    PRIVATE <span class="variable">$&#123;CMAKE_CURRENT_LIST_DIR&#125;</span>/src</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>As for the target name <code>&#123;target_name&#125;</code>, there are some tricks here, and we will discuss that later.</p>
<h3 id="Global-macros"><a href="#Global-macros" class="headerlink" title="Global macros"></a>Global macros</h3><p>For a large project, especially for C&#x2F;C++, there are often many useful macros defined globally. For example, we may want to be aware of the build type. Also, we may want a shortcut for namespace declaration. Finally, we can provide an API to get the version string.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// debugging flag</span></span><br><span class="line"><span class="meta">#<span class="keyword">if</span> defined(DEBUG) || defined(_DEBUG)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> DGEX_DEBUG</span></span><br><span class="line"><span class="meta">#<span class="keyword">else</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> DGEX_RELEASE</span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// namespace</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> DGEX_BEGIN namespace DgeX &#123;</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> DGEX_END   &#125;</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> DGEX       ::DgeX::</span></span><br><span class="line"></span><br><span class="line"><span class="function">std::string DGEX_API <span class="title">GetDgeXVersion</span><span class="params">()</span></span>;</span><br></pre></td></tr></table></figure>

<p>You can find more macro definitions in <a target="_blank" rel="noopener" href="https://github.com/Lord-Turmoil/DungineX/blob/0.1.0/DungineX/include/DgeX/Defines.h">Defines.h</a>.</p>
<div class="note success flat"><p>Fun fact, the name Defines.h originally came from <a target="_blank" rel="noopener" href="https://github.com/electronicarts/CnC_Remastered_Collection">Westwood Studiosâ€™ C&amp;C games</a>.</p>
</div>

<h3 id="Versioning"><a href="#Versioning" class="headerlink" title="Versioning"></a>Versioning</h3><p>Iâ€™m not sure if you also feel this way, but adding version information into a project is super cool. To achieve this, we can add <a target="_blank" rel="noopener" href="https://github.com/Lord-Turmoil/DungineX/blob/0.1.0/DungineX/include/DgeX/Version.h">Version.h</a> to our project. Also, you can use stringfy macros (defined in <a target="_blank" rel="noopener" href="https://github.com/Lord-Turmoil/DungineX/blob/0.1.0/DungineX/include/DgeX/Utils/Macros.h">Utils&#x2F;Macros.h</a>) to get version as a string.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> DGEX_VERSION_MAJOR 0</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> DGEX_VERSION_MINOR 1</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> DGEX_VERSION_PATCH 0</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> DGEX_TO_VERSION(major, minor, patch) (major * 10000 + minor * 100 + patch)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> DGEX_VERSION                         DGEX_TO_VERSION(DGEX_VERSION_MAJOR, DGEX_VERSION_MINOR, DGEX_VERSION_PATCH)</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> DGEX_VERSION_STRING                 \</span></span><br><span class="line"><span class="meta">    DGEX_STRINGIFY(DGEX_VERSION_MAJOR)      \</span></span><br><span class="line"><span class="meta">    <span class="string">&quot;.&quot;</span>                                     \</span></span><br><span class="line"><span class="meta">    DGEX_STRINGIFY(DGEX_VERSION_MINOR)      \</span></span><br><span class="line"><span class="meta">    <span class="string">&quot;.&quot;</span>                                     \</span></span><br><span class="line"><span class="meta">    DGEX_STRINGIFY(DGEX_VERSION_PATCH)</span></span><br></pre></td></tr></table></figure>

<div class="note success flat"><p>I learnt this style from <a target="_blank" rel="noopener" href="https://github.com/gabime/spdlog">spdlog</a>. In fact, many of my CMake knowledge came from that, too.</p>
</div>

<h3 id="Prepare-to-be-a-shared-library-DLL"><a href="#Prepare-to-be-a-shared-library-DLL" class="headerlink" title="Prepare to be a shared library (DLL)"></a>Prepare to be a shared library (DLL)</h3><p>Back in old days, we built standalone executable files (.exe). Then, we build static libraries (.lib) that linked directly into the executable file. Building static library is easy, as you donâ€™t need to change anything.</p>
<p>However, things change when it comes to a dynamic library (.dll), or shared library. Thatâ€™s why you often (or always) see some â€œweirdâ€ macro before each function in libraries you use. For example, this is one of the APIs in SDL3, with <code>SDL_DECLSPEC</code> macro.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">extern</span> SDL_DECLSPEC <span class="type">int</span> SDLCALL <span class="title">SDL_GetVersion</span><span class="params">(<span class="type">void</span>)</span></span>;</span><br></pre></td></tr></table></figure>

<p>This is because, unlike static library which is linked with the target executable, shared library will be built into independent DLL file to be loaded at runtime. So, we have to tell the compiler and linker what function should be included in the DLL and how to load them.</p>
<p>If we have shared library in mind, it would be a bad idea to build only for static or dynamic. A good practice, as shown above, is use a macro. Below is the definition in DungineX, replacing <code>SDL_DECLSPEC</code> with <code>DGEX_API</code>. Note that we donâ€™t need <code>__declspec</code> again in function definition.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Defines.h</span></span><br><span class="line"><span class="meta">#<span class="keyword">ifdef</span> DGEX_EXPORT</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> DGEX_API __declspec(dllexport)</span></span><br><span class="line"><span class="meta">#<span class="keyword">else</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> DGEX_API</span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Version.h</span></span><br><span class="line"><span class="function">std::string DGEX_API <span class="title">GetDgeXVersion</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Version.cpp</span></span><br><span class="line"><span class="function">std::string <span class="title">GetDgeXVersion</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> &#123; DGEX_VERSION_STRING &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>If we want to build DungineX as a shared library, we can just define <code>DGEX_EXPORT</code>, and everything else will be handled by the preprocessor.</p>
<div class="note warning flat"><p>However, this is not over yet. There is still one important configuration waiting for you, see <a href="#Static-or-shared-library?">Static or shared library</a></p>
</div>

<h3 id="More-about-shared-libary"><a href="#More-about-shared-libary" class="headerlink" title="More about shared libary"></a>More about shared libary</h3><p>For static library, since the compilation and linking are done at compile time, so you can write code normally as what you do. For shared libary, there is more â€œdirty workâ€.</p>
<p>When you build shared libary, in fact, youâ€™ll get both a <code>.lib</code> and a <code>.dll</code> file. The <code>.dll</code> file is our actual library, and <code>.lib</code> here is for linking, telling the compiler which functions will eventually come from <code>.dll</code>. By this way, you can just write your code, and the compiler will generate the code to load functions from the shared library. If somehow the <code>.lib</code> is not available (e.g. close source library), then you have to manually write those boring code.</p>
<p>The client is the code that depends on the library. When it includes shared libraryâ€™s header files, since we have the macro, it will not see <code>__declspec(dllexport)</code>, and will eventually know that these functions should be imported via the corresponding <code>.lib</code>.</p>
<p>Another thing to notice is that, there are both <code>__declspec(dllexport)</code> for the libary and <code>__declspec(dllimport)</code> for the client. When you load a shared libary, there will be a table generated to map those function calls or data. <code>__declspec(dllimport)</code> explicitly specify the function or data to be loaded from a shared library, so that the compiler can generate more efficient code.</p>
<p>However, <code>__declspec(dllimport)</code> is not required for function, as the compiler will do the optimization anyway. The only case when it is useful is declaring variables, since we donâ€™t want an indirect access for them. For more about this topic, you can check out the following links.</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/4489441/why-when-is-declspec-dllimport-not-needed">Why&#x2F;when is __declspec( dllimport ) not needed?</a></li>
<li><a target="_blank" rel="noopener" href="https://web.archive.org/web/20140808231508/http://blogs.msdn.com/b/russellk/archive/2005/03/20/399465.aspx">LNK4217</a></li>
</ul>
<div class="note info flat"><p>Eventhough we can export variable in a shared library, it is <strong>NOT</strong> recommended to do so, because you know, global variables are bad.</p>
</div>

<h2 id="Update-CMakeLists-txt"><a href="#Update-CMakeLists-txt" class="headerlink" title="Update CMakeLists.txt"></a>Update CMakeLists.txt</h2><p>Now we have a minimum library project, letâ€™s get ready to compile it.</p>
<h3 id="Static-or-shared-library"><a href="#Static-or-shared-library" class="headerlink" title="Static or shared library?"></a>Static or shared library?</h3><p>Now that we have two possible targets, one static library and one shared library, we have to decide which one to build. Of course, we can build them all, but adding such an option would always be a better choice.</p>
<p>In <a target="_blank" rel="noopener" href="https://github.com/Lord-Turmoil/DungineX/blob/0.1.0/DungineX/CMakeLists.txt">DungineX&#x2F;CMakeLists.txt</a>, we can optionally add two targets, marked with <code>SHARED</code> and <code>STATIC</code>. Specially, for a shared library, we need to make it position-independent, so that any program can load it. Of course, we need to add that macro <code>DGEX_EXPORT</code>. For a static library, thereâ€™s nothing different from what you see before.</p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">set</span>(TARGET_SHARED DgeX_Shared)</span><br><span class="line"><span class="keyword">set</span>(TARGET_STATIC DgeX_Static)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(DGEX_BUILD_SHARED)</span><br><span class="line">    <span class="keyword">add_library</span>(<span class="variable">$&#123;TARGET_SHARED&#125;</span> SHARED <span class="variable">$&#123;DGEX_SOURCES&#125;</span>)</span><br><span class="line">    configure_dgex_target(<span class="variable">$&#123;TARGET_SHARED&#125;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Shared library need some extra properties.</span></span><br><span class="line">    <span class="keyword">set_target_properties</span>(<span class="variable">$&#123;TARGET_SHARED&#125;</span> PROPERTIES POSITION_INDEPENDENT_CODE <span class="keyword">ON</span>)</span><br><span class="line">    <span class="keyword">target_compile_definitions</span>(<span class="variable">$&#123;TARGET_SHARED&#125;</span> PRIVATE DGEX_EXPORT)</span><br><span class="line"><span class="keyword">endif</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(DGEX_BUILD_STATIC)</span><br><span class="line">    <span class="keyword">add_library</span>(<span class="variable">$&#123;TARGET_STATIC&#125;</span> STATIC <span class="variable">$&#123;DGEX_SOURCES&#125;</span>)</span><br><span class="line">    configure_dgex_target(<span class="variable">$&#123;TARGET_STATIC&#125;</span>)</span><br><span class="line"><span class="keyword">endif</span>()</span><br></pre></td></tr></table></figure>

<p>Now, you should have your shared library. But one thing may bother you, that the compiled DLL is output into its own directory, not beside the executable file. So, when you try to run your executable, you will see one of the most annoying errors on Windows.</p>
<img src="/posts/Game-Engine-0-to-1-01-It-Starts-Now/image-20250530233424360.png" alt="image-20250530233424360" style="zoom:80%;">

<p>One quick solution is to copy the DLL file. However, you can also set CMakeâ€™s output directory so that all binaries will be output to the same location. Here, DungineX only changes this if it is built as the main project, not a dependency. This allows more flexibility if it is built as a dependency.</p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(DGEX_MASTER_PROJECT)</span><br><span class="line">    <span class="keyword">set</span>(CMAKE_ARCHIVE_OUTPUT_DIRECTORY <span class="string">&quot;$&#123;CMAKE_BINARY_DIR&#125;/output/lib&quot;</span>)</span><br><span class="line">    <span class="keyword">set</span>(CMAKE_LIBRARY_OUTPUT_DIRECTORY <span class="string">&quot;$&#123;CMAKE_BINARY_DIR&#125;/output/lib&quot;</span>)</span><br><span class="line">    <span class="keyword">set</span>(CMAKE_RUNTIME_OUTPUT_DIRECTORY <span class="string">&quot;$&#123;CMAKE_BINARY_DIR&#125;/output/bin&quot;</span>)</span><br><span class="line"><span class="keyword">endif</span>()</span><br></pre></td></tr></table></figure>

<h3 id="Target-alias"><a href="#Target-alias" class="headerlink" title="Target alias"></a>Target alias</h3><p>It is good to have both static and shared libraries. However, it introduces another problem. When people link DungineX, which target should they use? With the CMakeLists.txt above, the users have to explicitly choose <code>DgeX_Static</code> or <code>DgeX_Shared</code>, which is apparently not friendly.</p>
<p>Fortunately, CMake supports target alias, and youâ€™ve already seen it earlier when we were adding third-party libraries. We can create a consistent alias based on the userâ€™s choice of library. This way, they can just use <code>DgeX::Lib</code> in their CMakeLists.txt.</p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(DGEX_USE_SHARED)</span><br><span class="line">    <span class="keyword">add_library</span>(DgeX::Lib ALIAS <span class="variable">$&#123;TARGET_SHARED&#125;</span>)</span><br><span class="line"><span class="keyword">else</span>()</span><br><span class="line">    <span class="keyword">add_library</span>(DgeX::Lib ALIAS <span class="variable">$&#123;TARGET_STATIC&#125;</span>)</span><br><span class="line"><span class="keyword">endif</span>()</span><br></pre></td></tr></table></figure>

<p>However, you may encounter yet another problem, that you cannnot use target alias as target. So, you have to know the target behind the alias. This can be done via a simple function, and then you can use the original target name.</p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># cmake/utils.cmake</span></span><br><span class="line"><span class="keyword">function</span>(dgex_get_target_name alias_name output)</span><br><span class="line">    <span class="keyword">get_target_property</span>(target_name <span class="variable">$&#123;alias_name&#125;</span> ALIASED_TARGET)</span><br><span class="line">    <span class="keyword">if</span>(<span class="string">&quot;$&#123;target_name&#125;&quot;</span> <span class="keyword">STREQUAL</span> <span class="string">&quot;target_name-NOTFOUND&quot;</span>)</span><br><span class="line">        <span class="keyword">set</span>(<span class="variable">$&#123;output&#125;</span> <span class="variable">$&#123;alias_name&#125;</span> PARENT_SCOPE)</span><br><span class="line">    <span class="keyword">else</span>()</span><br><span class="line">        <span class="keyword">set</span>(<span class="variable">$&#123;output&#125;</span> <span class="variable">$&#123;target_name&#125;</span> PARENT_SCOPE)</span><br><span class="line">    <span class="keyword">endif</span>()</span><br><span class="line"><span class="keyword">endfunction</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment"># Vendor/CMakeLists.txt</span></span><br><span class="line">dgex_get_target_name(<span class="variable">$&#123;vendor&#125;</span> vendor_target)</span><br><span class="line">dgex_disable_warnings(<span class="variable">$&#123;vendor_target&#125;</span>)</span><br></pre></td></tr></table></figure>

<h3 id="Ship-DLL-with-your-mark"><a href="#Ship-DLL-with-your-mark" class="headerlink" title="Ship DLL with your mark"></a>Ship DLL with your mark</h3><p>Now, you should have everything work just fine. However, if you are a perfectionist, you will probably get extremely frustrated as the output DLL file has no properties. This is not good, as players wonâ€™t be able to contribute to the one who writes the engine and makes the game happen.</p>
<img src="/posts/Game-Engine-0-to-1-01-It-Starts-Now/image-20250531183840997.png" alt="image-20250531183840997" style="zoom:80%;">

<p>To add properties to your DLL file, there is a repo <a target="_blank" rel="noopener" href="https://github.com/halex2005/CMakeHelpers">CMakeHelpers</a> you can refer to. Just copy <code>VersionInfo.in</code>, <code>VersionResource.rc</code> and <code>generate_product_version.cmake</code> to your project and configure your information. See <a target="_blank" rel="noopener" href="https://github.com/Lord-Turmoil/DungineX/blob/0.1.0/DungineX/CMakeLists.txt">DungineX&#x2F;CMakeLists.txt</a> for detailed usage. Since DLL file usually donâ€™t need an icon, so I removed <code>ICON</code> property. Finally, our DLL file will look like this. All of a sudden, it goes professional.</p>
<img src="/posts/Game-Engine-0-to-1-01-It-Starts-Now/image-20250531190555675.png" alt="image-20250531190555675" style="zoom:80%;">

<div class="note info flat"><p>Of course, this works only on Windows. However, it is not a issue as we currently donâ€™t target other platforms.</p>
</div>

<hr>
<h1 id="A-Custom-Entrypoint"><a href="#A-Custom-Entrypoint" class="headerlink" title="A Custom Entrypoint"></a>A Custom Entrypoint</h1><p>å¯¹äºæ¸¸æˆæ¥è¯´ï¼Œåˆå§‹åŒ–æˆ–è€…é‡Šæ”¾å¯èƒ½ä¼šå¾ˆå¤æ‚ï¼Œæ¶‰åŠçª—å£çš„åˆ›å»ºã€å„ç§èµ„æºçš„åŠ è½½ï¼Œå¦‚æœæ¶‰åŠ Windows åº”ç”¨çš„åˆ›å»ºï¼Œè¿˜éœ€è¦å°† <code>main</code> æ›¿æ¢ä¸ºå¤æ‚çš„ <code>WinMain</code>ã€‚å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬æ²¡æœ‰å¿…è¦å°†å¤æ‚åº¦æš´éœ²ç»™ç”¨æˆ·ã€‚å› æ­¤ï¼Œè¿™é‡Œä»‹ç»ä¸€ä¸ªç›¸å¯¹ç‰¹åˆ«çš„è¯é¢˜ï¼Œå°±æ˜¯ä¸ºå¼•æ“æ·»åŠ ä¸€ä¸ªè‡ªå®šä¹‰çš„å…¥å£ï¼Œä»è€Œå°†å¾ˆå¤šé€»è¾‘è½¬ç§»åˆ°å¼•æ“å†…éƒ¨ã€‚</p>
<div class="note success flag flat"><p>è¿™æ ·åšè¿˜æœ‰ä¸€ä¸ªå¥½å¤„ï¼Œå°±æ˜¯å¯ä»¥å‘æœ€ç»ˆç”Ÿæˆçš„æ¸¸æˆä¸­æ·»åŠ ä¸€äº›æœ‰è¶£çš„ä¸œè¥¿ï¼Œæ¯”å¦‚ç‰ˆæƒå£°æ˜ï¼Œå¯åŠ¨ç”»é¢ç­‰ã€‚</p>
</div>

<p>é¦–å…ˆï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºè¿™æ ·çš„è‡ªå®šä¹‰å…¥å£ï¼Œä»è€Œç”¨æˆ·åœ¨ä½¿ç”¨å¼•æ“æ—¶ï¼Œå¯ä»¥ä½¿ç”¨æ­£å¸¸ <code>main</code> çš„å†™æ³•ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">typedef</span> <span class="title">int</span> <span class="params">(*DgeXEntryPoint)</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span>* argv[])</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">extern</span> <span class="type">int</span> <span class="title">DgeXMain</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span>* argv[])</span></span>;</span><br></pre></td></tr></table></figure>

<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰å¼•æ“ <code>main</code> å‡½æ•°çš„å®ç°ï¼Œä»è€Œåœ¨ç”¨æˆ·å…¥å£çš„å‰åæ’å…¥è‡ªå®šä¹‰çš„ä»£ç ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">extern</span> DGEX_API <span class="type">int</span> <span class="title">DgeXMainImpl</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span>* argv[], DgeXEntryPoint entryPoint)</span></span>;</span><br></pre></td></tr></table></figure>

<div class="note success flat"><p>è¯´åˆ°è¿™é‡Œï¼Œçªç„¶æƒ³åˆ°è¿™å’Œé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼ˆAOPï¼‰æœ‰äº›ç±»ä¼¼ï¼Œåˆšå¥½ä¹‹å‰ä¹Ÿå†™è¿‡ä¸€ç¯‡ç›¸å…³çš„æ–‡ç« ï¼Œ<a href="/posts/AOP-in-Spring-Boot/">AOP in Spring Boot</a>ã€‚</p>
</div>

<p>å¯¹äºè‡ªå®šä¹‰å…¥å£ï¼Œæœ€å…³é”®çš„å°±æ˜¯ <code>main</code>ï¼ˆæˆ– <code>WinMain</code>ï¼Œä»¥ä¸‹å‡ç”¨ <code>main</code> ä»£æŒ‡ï¼‰å‡½æ•°çš„å®šä¹‰ã€‚æ—¢ç„¶æˆ‘ä»¬ä¸å¸Œæœ›ç”¨æˆ·æ‰‹åŠ¨å®ç°è¿™ä¸€å‡½æ•°ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±éœ€è¦é€šè¿‡æŸç§æ–¹å¼æä¾›ç»™ç”¨æˆ·ã€‚<code>main</code> ä¸å…¶ä»–å‡½æ•°ä¸åŒï¼Œå…¶ä»–å‡½æ•°å¯ä»¥åªæä¾›å£°åï¼Œç„¶ååœ¨è¿è¡Œæ—¶ä» DLL ä¸­åŠ¨æ€åŠ è½½ï¼Œè€Œ <code>main</code> ä¸ºå¯æ‰§è¡Œç¨‹åºçš„å…¥å£ï¼Œå› æ­¤å¿…é¡»åœ¨å¯æ‰§è¡Œæ–‡ä»¶å†…æœ‰å®šä¹‰ã€‚æ‰€ä»¥ï¼Œè§£å†³æ–¹æ³•å°±æ˜¯å°† <code>main</code> å‡½æ•°å®ç°åœ¨å¼•æ“çš„å¤´æ–‡ä»¶ä¸­ï¼Œå½“ç”¨æˆ·å¼•å…¥è¿™ä¸€å¤´æ–‡ä»¶æ—¶ï¼Œå³å¯å¼•å…¥ <code>main</code> å‡½æ•°ã€‚è€Œç”±äº <code>main</code> å‡½æ•°åªèƒ½å®šä¹‰ä¸€æ¬¡ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å°†å…¶å®šä¹‰åœ¨ä¸€ä¸ªå•ç‹¬çš„å¤´æ–‡ä»¶ä¸­ä¾›ç”¨æˆ·å¼•ç”¨ï¼Œè€Œä¸æ˜¯æˆ‘ä»¬çš„ <code>DgeX.h</code>ã€‚</p>
<p>å…·ä½“åœ°ï¼Œæˆ‘ä»¬è¿™é‡Œå°† <code>main</code> å‡½æ•°å®šä¹‰åœ¨ <a target="_blank" rel="noopener" href="https://github.com/Lord-Turmoil/DungineX/blob/0.1.0/DungineX/include/DgeX/EntryPoint.h">DgeX&#x2F;EntryPoint.h</a>ã€‚ç›®å‰çš„ <code>main</code> å‡½æ•°å®ç°è¿˜éå¸¸ç®€å•ï¼Œåªæ˜¯è°ƒç”¨ä¸€ä¸‹åˆšåˆšçš„ <code>DgeXMainImpl</code>ã€‚ç”±äº <code>DgeXMainImpl</code> å°±ä¸æ˜¯ <code>main</code> äº†ï¼Œæ‰€ä»¥å®ƒå¯ä»¥åªæä¾›å£°æ˜ï¼Œè€Œå°†å®ç°æ”¾åœ¨æºæ–‡ä»¶ä¸­ã€‚å½“ç„¶éœ€è¦æ³¨æ„ï¼Œåœ¨æˆ‘ä»¬å¼•æ“å†…éƒ¨å¼•ç”¨ EntryPoint.h æ—¶ï¼Œå°±ä¸èƒ½å†åŒ…å« <code>main</code> å‡½æ•°çš„å®šä¹‰äº†ï¼Œå…·ä½“å¯ä»¥é€šè¿‡ç‰¹å®šçš„å®å¼€å…³å®ç°ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifdef</span> DGEX_USE_WINMAIN</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;Windows.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span> <span class="comment">// for __argc and __argv</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> APIENTRY <span class="title">WinMain</span><span class="params">(HINSTANCE hInst, HINSTANCE hInstPrev, PSTR cmdline, <span class="type">int</span> cmdshow)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">DgeXMainImpl</span>(__argc, __argv, DgeXMain);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">else</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">DgeXMainImpl</span>(argc, argv, DgeXMain);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span> <span class="comment">// DGEX_USE_WINMAIN</span></span></span><br></pre></td></tr></table></figure>

<p>ä¹‹åï¼Œéšç€å¼•æ“åŠŸèƒ½é€æ¸å¤æ‚ï¼Œæˆ‘ä»¬ä¼šåœ¨ <code>DgeXMainImpl</code> ä¸­æ·»åŠ æ›´å¤šçš„å†…å®¹ã€‚å½“ç„¶ï¼Œä¸ºäº†æä¾›æ›´ä¸€è‡´çš„ä½“éªŒï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å°† <code>DgeXMain</code> è¿›ä¸€æ­¥å˜æˆ <code>main</code>ã€‚å› ä¸ºé¢„å¤„ç†å‘ç”Ÿåœ¨ç¼–è¯‘å‰ï¼Œæ‰€ä»¥ä¸ä¼šå¯¹ç¼–è¯‘è¿‡ç¨‹é€ æˆå½±å“ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> main DgeXMain</span></span><br></pre></td></tr></table></figure>

<p>æœ€åï¼Œç”¨æˆ·åªéœ€è¦åœ¨åŸå…ˆè¦åŒ…å« <code>main</code> å‡½æ•°æºæ–‡ä»¶ä¸­ï¼Œå¼•å…¥ EntryPoint.h å³å¯ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼Œå…·ä½“è§ <a target="_blank" rel="noopener" href="https://github.com/Lord-Turmoil/DungineX/blob/0.1.0/Demo/HelloThere/Main.cpp">Demo&#x2F;HelloThere&#x2F;Main.cpp</a>ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;DgeX/DgeX.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;DgeX/EntryPoint.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Hello there!&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;DungineX &quot;</span> &lt;&lt; DgeX::<span class="built_in">GetDgeXVersion</span>() &lt;&lt; <span class="string">&quot;!&quot;</span> &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">    std::cout &lt;&lt; std::endl &lt;&lt; <span class="string">&quot;Press Enter to quit...&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">    std::cin.<span class="built_in">get</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="Whatâ€™s-Next"><a href="#Whatâ€™s-Next" class="headerlink" title="Whatâ€™s Next?"></a>Whatâ€™s Next?</h1><p>ç°åœ¨æˆ‘ä»¬å·²ç»æœ‰äº†ä¸€ä¸ªä¸é”™çš„é¡¹ç›®ç»“æ„äº†ï¼Œæ¥ä¸‹æ¥å°±å¯ä»¥å‘å…¶ä¸­æ·»åŠ å„ä¸ªæ¨¡å—äº†ã€‚åœ¨è¿›è¡Œä¸‹ä¸€æ­¥ä¹‹å‰ï¼Œæˆ‘ä»¬æœ‰å¿…è¦åšä¸€äº›è§„åˆ’ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬çš„å¼•æ“ä¸»è¦åˆ†ä¸ºé‚£å‡ ä¸ªéƒ¨åˆ†ã€‚</p>
<h2 id="Device"><a href="#Device" class="headerlink" title="Device"></a>Device</h2><p>é¦–å…ˆï¼Œè‡ªç„¶æ˜¯è®¾å¤‡ç›¸å…³ï¼ŒåŒ…æ‹¬å›¾å½¢è®¾å¤‡ï¼ˆGraphicsï¼‰ã€éŸ³é¢‘è®¾å¤‡ï¼ˆAutdioï¼‰ã€è¾“å…¥è®¾å¤‡ï¼ˆInputï¼‰ä¸‰ç±»ã€‚è¿™ä¸€å±‚ä¸»è¦å¯¹ç¡¬ä»¶è®¾å¤‡è¿›è¡Œå°è£…ï¼Œæä¾›ç»Ÿä¸€çš„æŠ½è±¡æ¨¡å‹ã€‚å½“ç„¶ï¼Œå¦‚æœæˆ‘ä»¬ä½¿ç”¨ SDLï¼Œå’Œç¡¬ä»¶ç›¸å…³çš„éƒ¨åˆ†å…¶å®å·²ç»å°è£…å¥½äº†ï¼Œä¸è¿‡æˆ‘ä»¬è¿˜éœ€è¦æ ¹æ®å¼•æ“å…·ä½“çš„éœ€æ±‚è¿›è¡ŒäºŒæ¬¡å°è£…ã€‚</p>
<p>è¿™ä¸€éƒ¨åˆ†æ˜¯æ•´ä¸ªæ¸¸æˆå¼•æ“çš„åŸºç¡€è®¾æ–½ï¼ˆInfrastructureï¼‰ï¼Œåœ¨å®ƒå®Œæˆä¹‹åï¼Œå…¶ä»–æ‰€æœ‰æ¨¡å—å°†ä¸å†éœ€è¦è°ƒç”¨åº•å±‚ SDL å’Œå…¶ä»–åº“çš„æ¥å£ï¼Œæ‰€ä»¥éå¸¸å…³é”®ã€‚</p>
<h2 id="Resource"><a href="#Resource" class="headerlink" title="Resource"></a>Resource</h2><p>èµ„æºç®¡ç†ä¹Ÿæ˜¯æ¸¸æˆå¼•æ“ä¸­ä¸€ä¸ªé‡è¦çš„éƒ¨åˆ†ã€‚æ¸¸æˆä¸­é€šå¸¸éœ€è¦åŠ è½½å¤§é‡çš„èµ„æºï¼Œç¡¬ç¼–ç è‡ªç„¶ä¸æ˜¯ä¸€ä¸ªå¥½çš„é€‰æ‹©ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦æœ‰ä¸€ä¸ªç»Ÿä¸€çš„èµ„æºç®¡ç†æ¨¡å—ã€‚</p>
<p>é¦–å…ˆä¸€ä¸ªé—®é¢˜ï¼Œæ˜¯èµ„æºçš„ç´¢å¼•ï¼Œå¯ä»¥ä½¿ç”¨ XML æˆ–è€… JSON æ ¼å¼çš„æ–‡æœ¬ï¼Œè®°å½•èµ„æº ID å’Œæ–‡ä»¶ç´¢å¼•ï¼Œè¿™ä¸ªå¾ˆå®¹æ˜“ï¼Œåªè¦å‡†ç¡®åœ°æè¿°èµ„æºçš„å„ç§å±æ€§å³å¯ã€‚</p>
<p>ç¬¬äºŒä¸ªé—®é¢˜ï¼Œä¹Ÿæ˜¯æ›´å…³é”®çš„é—®é¢˜ï¼Œå¦‚ä½•åŠ è½½èµ„æºã€‚ç”±äºèµ„æºç§ç±»å¾ˆå¤šï¼Œè€Œä¸”å¾ˆå¤§ç¨‹åº¦ä¸Šä¾èµ–äºç‰¹å®šçš„æ¸¸æˆï¼Œå› æ­¤æˆ‘ä»¬åœ¨å¼•æ“å±‚å¾ˆéš¾æœ‰å…¨é¢çš„æ”¯æŒï¼Œå› æ­¤å°±éœ€è¦è€ƒè™‘å¯æ‰©å±•æ€§ã€‚ä¾‹å¦‚ï¼Œåœ¨å¼•æ“é‡Œï¼Œæˆ‘ä»¬å¯ä»¥æä¾›æœ€ç®€å•çš„æ–‡æœ¬ã€å›¾ç‰‡å’Œå£°éŸ³èµ„æºï¼Œç„¶åå…è®¸å®¢æˆ·ç«¯å®šä¹‰æ–°çš„èµ„æºç±»å‹ä»¥åŠåŠ è½½æ–¹å¼ã€‚</p>
<p>æ­¤å¤–ï¼Œè¿˜æœ‰ä¸€äº›çç¢çš„é—®é¢˜ï¼Œæ¯”å¦‚åŠ¨æ€æ·»åŠ æˆ–ä¿®æ”¹èµ„æºã€èµ„æºä½•æ—¶åŠ è½½å’Œé‡Šæ”¾ç­‰ï¼Œè¿™ä¸ªåœ¨ä¹‹åå…·ä½“è®¾è®¡æ—¶å†è€ƒè™‘ã€‚</p>
<div class="note info flat"><p>å½“ç„¶ï¼Œå¦‚æœæƒ³ä¿æŠ¤æ¸¸æˆèµ„æºï¼Œä¹Ÿå¯ä»¥é€‰æ‹©å¯¹èµ„æºæ–‡ä»¶è¿›è¡ŒåŠ å¯†ã€‚è¿™å®ç°èµ·æ¥ä¸éš¾ï¼Œä¹Ÿä¸æ˜¯æˆ‘ä»¬å…³æ³¨çš„é‡ç‚¹ã€‚</p>
</div>

<h2 id="Scene"><a href="#Scene" class="headerlink" title="Scene"></a>Scene</h2><p>æ¥ä¸‹æ¥ï¼Œå°±æ˜¯æ¸¸æˆå¼•æ“çš„é‡å¤´æˆï¼Œåœºæ™¯ç®¡ç†ã€‚åœ¨è¿™ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬è¦ç®¡ç†æ¸¸æˆå¯¹è±¡ï¼Œå®ç°æ¸¸æˆå¯¹è±¡çš„æ›´æ–°ã€ç»˜åˆ¶ï¼Œä»¥åŠå®ƒä»¬ä¹‹é—´çš„äº¤äº’ã€‚</p>
<p>å¯¹äºè¿™ä¸€éƒ¨åˆ†ï¼Œæ¸¸æˆå¼€å‘ä¸­æœ‰ä¸€ä¸ªéå¸¸å—æ¬¢è¿çš„å®ç°æ–¹å¼ï¼Œå°±æ˜¯ <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Entity_component_system">ECSï¼ˆEntity Component Systemï¼‰</a>ã€‚è¿™ä¸ªå…¶å®åœ¨ä¹‹å‰çš„ <a target="_blank" rel="noopener" href="https://github.com/Lord-Turmoil/Dungeon">Dungine</a> ä¸­å°±å·²ç»æœ‰æ‰€å®è·µäº†ï¼Œèƒ½å¤Ÿæä¾›éå¸¸é«˜çš„çµæ´»æ€§ã€‚åœ¨ DungineX ä¸­ï¼Œæˆ‘ä»¬ä¹Ÿç»§ç»­ä½¿ç”¨è¿™ä¸€æ¨¡å¼ã€‚</p>
<p>æ›¾ç»åœ¨ Dungine ä¸­ï¼Œæˆ‘å®ç°äº†éå¸¸ç®€å•çš„ 2D ç¢°æ’æ£€æµ‹ï¼Œç„¶è€Œå¹¶ä¸æ˜¯çœŸæ­£çš„ç‰©ç†æ¨¡æ‹Ÿã€‚å› æ­¤ï¼Œè¿™æ¬¡æˆ‘æƒ³ä¸ºå¼•æ“å¼•å…¥å®Œæ•´çš„ç‰©ç†ç³»ç»Ÿã€‚ä¹‹å‰è¿˜æƒ³äº²è‡ªå®ç°ç‰©ç†å¼•æ“ï¼Œä½†æ˜¯å®åœ¨è¿‡äºè‰°æ·±æ™¦æ¶©ï¼Œæˆ‘åªå‹‰å¼ºå®ç°äº†ç²’å­ç‰©ç†ç³»ç»Ÿã€‚ç”±äºç‰©ç†å¼•æ“å®åœ¨è¿‡äºå®å¤§ï¼Œå› æ­¤æˆ‘ä»¬æš‚æ—¶ç›´æ¥ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“ã€‚</p>
<p>æ­¤å¤–ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨å¼•æ“å±‚é¢æ·»åŠ ä¸€äº›é¢å¤–çš„åŠŸèƒ½ï¼Œæ¯”å¦‚è§‚å¯Ÿè€…æ¨¡å¼ã€åŸå‹æ¨¡å¼ã€å•ä¾‹æ¨¡å¼ç­‰çš„æ”¯æŒï¼Œä»¥åŠå¯¹è±¡æ± ç­‰ç­‰ã€‚</p>
<h2 id="Application"><a href="#Application" class="headerlink" title="Application"></a>Application</h2><p>å¯¹äºä¸€ä¸ªå®Œæ•´çš„æ¸¸æˆï¼Œä¸åªæœ‰æ¸¸æˆç”»é¢ï¼Œè¿˜æœ‰å„ç§èœå•ç•Œé¢ã€‚è™½ç„¶å¯èƒ½å·²ç»è¶…å‡ºäº†å¼•æ“çš„åŸºæœ¬åŠŸèƒ½èŒƒå›´ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥ä¸ºç”¨æˆ·æä¾›ç®€å•çš„ç•Œé¢æ”¯æŒã€‚</p>
<p>è¿™ä¸ªå¯èƒ½æ˜¯æˆ‘ä¸ªäººçš„ä¸€äº›æ‰§å¿µå§ï¼Œæ¯”è¾ƒæƒ³å®ç°ç•Œé¢çš„åˆ‡æ¢æ•ˆæœã€‚æ­¤å¤–ï¼Œè¿˜æƒ³æä¾›ä¸€ä¸ªåŸºäº XML çš„ç•Œé¢ç¼–å†™æ”¯æŒï¼Œæœ‰äº›ç±»ä¼¼ HTML æˆ– WPF çš„æ„Ÿè§‰ã€‚å±äºé¢å¤–çš„åŠŸèƒ½æ”¯æŒå§ã€‚</p>
<p>åœ¨ç•Œé¢æ”¯æŒçš„åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥æŠŠæ•´ä¸ªæ¸¸æˆå°è£…æˆä¸€ä¸ª Applicationï¼Œä»è€Œç®¡ç†æ•´ä¸ªæ¸¸æˆçš„æ‰§è¡Œæµç¨‹ã€‚</p>
<h2 id="Logs"><a href="#Logs" class="headerlink" title="Logs"></a>Logs</h2><p>æ­¤å¤–ï¼Œå…¶å®è¿˜æœ‰å¾ˆå¤šæ¯”è¾ƒé›¶ç¢çš„ç‚¹ï¼Œæ¯”å¦‚æ—¥å¿—æ”¯æŒç­‰ï¼Œè¿™äº›ä¼šåœ¨ä¹‹åçš„å†…å®¹ä¸­ç©¿æ’ä»‹ç»ã€‚</p>
<hr>
<h1 id="é¢„å‘Š"><a href="#é¢„å‘Š" class="headerlink" title="é¢„å‘Š"></a>é¢„å‘Š</h1><p>åœ¨ä¸‹ä¸€ç« ä¸­ï¼Œæˆ‘ä»¬å°†å®ç°æœ€åŸºæœ¬çš„çª—å£åˆ›å»ºï¼Œä»¥åŠå›¾å½¢ç»˜åˆ¶ï¼Œä¹Ÿå°±æ˜¯ Device ä¸­çš„ Graphics éƒ¨åˆ†ã€‚á“šá˜á—¢</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>Author: </span><span class="post-copyright-info"><a target="_blank" rel="noopener" href="https://tonys-studio.top">Tony Lewis</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>Link: </span><span class="post-copyright-info"><a href="https://blog.tonys-studio.top/posts/Game-Engine-0-to-1-01-It-Starts-Now/">https://blog.tonys-studio.top/posts/Game-Engine-0-to-1-01-It-Starts-Now/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>Copyright Notice: </span><span class="post-copyright-info">All articles on this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless otherwise stated.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/C-C/">C/C++</a><a class="post-meta__tags" href="/tags/Game-Engine-0-to-1/">Game Engine 0 to 1</a></div><div class="post-share"><div class="addtoany"><div class="a2a_kit a2a_kit_size_32 a2a_default_style"><a class="a2a_button_wechat"></a><a class="a2a_button_qzone"></a><a class="a2a_button_sina_weibo"></a><a class="a2a_button_telegram"></a><a class="a2a_button_whatsapp"></a><a class="a2a_button_facebook"></a><a class="a2a_button_twitter"></a><a class="a2a_button_email"></a><a class="a2a_button_copy_link"></a><a class="a2a_dd" target="_blank" rel="noopener" href="https://www.addtoany.com/share"></a></div></div><script async="async" src="https://static.addtoany.com/menu/page.js"></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/posts/Game-Engine-0-to-1-02-Something-on-the-Screen/" title="Game Engine 0 to 1 (02): Something on the Screen"><img class="cover" src="https://tonys-studio-1308383348.cos.ap-beijing.myqcloud.com/blog/static/cover/mando/09/03.jpeg" onerror="onerror=null;src='https://tonys-studio-1308383348.cos.ap-beijing.myqcloud.com/blog/static/404.png'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">Previous</div><div class="info-item-2">Game Engine 0 to 1 (02): Something on the Screen</div></div><div class="info-2"><div class="info-item-1">Game Engine Series 02: Graphics Device</div></div></div></a><a class="pagination-related" href="/posts/Game-Engine-0-to-1-00-Nothing-s-Here/" title="Game Engine 0 to 1 (00): Nothing's Here"><img class="cover" src="https://tonys-studio-1308383348.cos.ap-beijing.myqcloud.com/blog/static/cover/mando/01/10.jpeg" onerror="onerror=null;src='https://tonys-studio-1308383348.cos.ap-beijing.myqcloud.com/blog/static/404.png'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">Next</div><div class="info-item-2">Game Engine 0 to 1 (00): Nothing's Here</div></div><div class="info-2"><div class="info-item-1">Game Engine Series 00: Prologue</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>Related Articles</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/posts/Game-Engine-0-to-1-00-Nothing-s-Here/" title="Game Engine 0 to 1 (00): Nothing&#39;s Here"><img class="cover" src="https://tonys-studio-1308383348.cos.ap-beijing.myqcloud.com/blog/static/cover/mando/01/10.jpeg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> May. 27th, 2025 - 19:05:29</div><div class="info-item-2">Game Engine 0 to 1 (00): Nothing&#39;s Here</div></div><div class="info-2"><div class="info-item-1">Game Engine Series 00: Prologue</div></div></div></a><a class="pagination-related" href="/posts/Game-Engine-0-to-1-02-Something-on-the-Screen/" title="Game Engine 0 to 1 (02): Something on the Screen"><img class="cover" src="https://tonys-studio-1308383348.cos.ap-beijing.myqcloud.com/blog/static/cover/mando/09/03.jpeg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> Jul. 4th, 2025 - 20:07:57</div><div class="info-item-2">Game Engine 0 to 1 (02): Something on the Screen</div></div><div class="info-2"><div class="info-item-1">Game Engine Series 02: Graphics Device</div></div></div></a><a class="pagination-related" href="/posts/C-Object-Lifecycle/" title="C++ Object Lifecycle"><img class="cover" src="https://tonys-studio-1308383348.cos.ap-beijing.myqcloud.com/blog/static/cover/mando/22/12.jpeg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> Oct. 1st, 2024 - 17:07:53</div><div class="info-item-2">C++ Object Lifecycle</div></div><div class="info-2"><div class="info-item-1">Breakdown of C++ object lifecycle to wipe out all your doubts</div></div></div></a><a class="pagination-related" href="/posts/Configure-VS-for-Non-MSVC-Projects/" title="Configure Visual Studio for Non-MSVC Projects"><img class="cover" src="https://tonys-studio-1308383348.cos.ap-beijing.myqcloud.com/blog/static/cover/mando/23/02.jpeg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> Apr. 27th, 2023 - 09:13:37</div><div class="info-item-2">Configure Visual Studio for Non-MSVC Projects</div></div><div class="info-2"><div class="info-item-1">Configure VS IntelliSense for GCC</div></div></div></a><a class="pagination-related" href="/posts/Dungeon/" title="Dungeon"><img class="cover" src="https://tonys-studio-1308383348.cos.ap-beijing.myqcloud.com/blog/static/posts/Dungeon.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> Jan. 4th, 2023 - 21:45:04</div><div class="info-item-2">Dungeon</div></div><div class="info-2"><div class="info-item-1">A rogue-like game developed with EasyX and FMOD in C++.</div></div></div></a><a class="pagination-related" href="/posts/Inter-Process-Communication/" title="Inter-Process Communication"><img class="cover" src="https://tonys-studio-1308383348.cos.ap-beijing.myqcloud.com/blog/static/cover/boba/05/06.jpeg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> Jan. 4th, 2023 - 17:56:03</div><div class="info-item-2">Inter-Process Communication</div></div><div class="info-2"><div class="info-item-1">Chapter Seven - Inter Process Communication</div></div></div></a></div></div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> Comments</span></div></div><div class="comment-wrap"><div><div id="waline-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="https://tonys-studio-1308383348.cos.ap-beijing.myqcloud.com/blog/static/avatar.png" onerror="this.onerror=null;this.src='https://tonys-studio-1308383348.cos.ap-beijing.myqcloud.com/blog/static/missing.gif'" alt="avatar"/></div><div class="author-info-name">Tony Lewis</div><div class="author-info-description">Do or do not. There is no try.</div><div class="site-data"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">93</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">84</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">40</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Lord-Turmoil"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/Lord-Turmoil" target="_blank" title="Github"><i class="fa-brands fa-github"></i></a><a class="social-icon" href="mailto:swift-phantom@outlook.com" target="_blank" title="Email"><i class="fa-solid fa-envelope"></i></a><a class="social-icon" href="https://space.bilibili.com/2030942344" target="_blank" title="BiliBili"><i class="fa-brands fa-bilibili"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">It won't be long before the armies of the Republic track us here.<br>You can visit this site at both:<li><a href="http://blog.tonys-studio.top/" target="_blank">Main Site</a></li><li><a href="https://lord-turmoil.github.io/" target="_blank">Github Mirror Site</a></li></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Contents</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Think-Twice"><span class="toc-text">Think Twice</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Let-the-Fun-Begin"><span class="toc-text">Let  the Fun Begin!</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA-CMake-%E9%A1%B9%E7%9B%AE"><span class="toc-text">åˆ›å»º CMake é¡¹ç›®</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Git-submodule"><span class="toc-text">Git submodule</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%B8%89%E6%96%B9%E4%BE%9D%E8%B5%96%E7%AE%A1%E7%90%86"><span class="toc-text">ç¬¬ä¸‰æ–¹ä¾èµ–ç®¡ç†</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9B%B4%E5%A5%BD%E7%9A%84-CMake-%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84"><span class="toc-text">æ›´å¥½çš„ CMake é¡¹ç›®ç»“æ„</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Minimal-DungineX"><span class="toc-text">Minimal DungineX</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Standard-project-structure"><span class="toc-text">Standard project structure</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Global-macros"><span class="toc-text">Global macros</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Versioning"><span class="toc-text">Versioning</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Prepare-to-be-a-shared-library-DLL"><span class="toc-text">Prepare to be a shared library (DLL)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#More-about-shared-libary"><span class="toc-text">More about shared libary</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Update-CMakeLists-txt"><span class="toc-text">Update CMakeLists.txt</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Static-or-shared-library"><span class="toc-text">Static or shared library?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Target-alias"><span class="toc-text">Target alias</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Ship-DLL-with-your-mark"><span class="toc-text">Ship DLL with your mark</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#A-Custom-Entrypoint"><span class="toc-text">A Custom Entrypoint</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#What%E2%80%99s-Next"><span class="toc-text">Whatâ€™s Next?</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Device"><span class="toc-text">Device</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Resource"><span class="toc-text">Resource</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Scene"><span class="toc-text">Scene</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Application"><span class="toc-text">Application</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Logs"><span class="toc-text">Logs</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%A2%84%E5%91%8A"><span class="toc-text">é¢„å‘Š</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Posts</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/Music-Notation-with-Avid-Sibelius-Ultimate/" title="Music Notation With Avid Sibelius Ultimate"><img src="https://tonys-studio-1308383348.cos.ap-beijing.myqcloud.com/blog/static/posts/Music-Notation-with-Avid-Sibelius-Ultimate.jpg" onerror="this.onerror=null;this.src='https://tonys-studio-1308383348.cos.ap-beijing.myqcloud.com/blog/static/404.png'" alt="Music Notation With Avid Sibelius Ultimate"/></a><div class="content"><a class="title" href="/posts/Music-Notation-with-Avid-Sibelius-Ultimate/" title="Music Notation With Avid Sibelius Ultimate">Music Notation With Avid Sibelius Ultimate</a><time datetime="2025-09-03T04:34:54.000Z" title="Created Sep. 3rd, 2025 - 12:34:54 12:34:54">Sep. 3rd, 2025 - 12:34:54</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/Getting-Started-with-Coq/" title="Getting Started With Coq"><img src="https://tonys-studio-1308383348.cos.ap-beijing.myqcloud.com/blog/static/cover/mando/05/07.jpeg" onerror="this.onerror=null;this.src='https://tonys-studio-1308383348.cos.ap-beijing.myqcloud.com/blog/static/404.png'" alt="Getting Started With Coq"/></a><div class="content"><a class="title" href="/posts/Getting-Started-with-Coq/" title="Getting Started With Coq">Getting Started With Coq</a><time datetime="2025-08-08T04:30:12.000Z" title="Created Aug. 8th, 2025 - 12:30:12 12:30:12">Aug. 8th, 2025 - 12:30:12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/Game-Engine-0-to-1-02-Something-on-the-Screen/" title="Game Engine 0 to 1 (02): Something on the Screen"><img src="https://tonys-studio-1308383348.cos.ap-beijing.myqcloud.com/blog/static/cover/mando/09/03.jpeg" onerror="this.onerror=null;this.src='https://tonys-studio-1308383348.cos.ap-beijing.myqcloud.com/blog/static/404.png'" alt="Game Engine 0 to 1 (02): Something on the Screen"/></a><div class="content"><a class="title" href="/posts/Game-Engine-0-to-1-02-Something-on-the-Screen/" title="Game Engine 0 to 1 (02): Something on the Screen">Game Engine 0 to 1 (02): Something on the Screen</a><time datetime="2025-07-04T12:07:57.000Z" title="Created Jul. 4th, 2025 - 20:07:57 20:07:57">Jul. 4th, 2025 - 20:07:57</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/Game-Engine-0-to-1-01-It-Starts-Now/" title="Game Engine 0 to 1 (01): It Starts Now"><img src="https://tonys-studio-1308383348.cos.ap-beijing.myqcloud.com/blog/static/cover/mando/10/03.jpeg" onerror="this.onerror=null;this.src='https://tonys-studio-1308383348.cos.ap-beijing.myqcloud.com/blog/static/404.png'" alt="Game Engine 0 to 1 (01): It Starts Now"/></a><div class="content"><a class="title" href="/posts/Game-Engine-0-to-1-01-It-Starts-Now/" title="Game Engine 0 to 1 (01): It Starts Now">Game Engine 0 to 1 (01): It Starts Now</a><time datetime="2025-06-01T06:45:32.000Z" title="Created Jun. 1st, 2025 - 14:45:32 14:45:32">Jun. 1st, 2025 - 14:45:32</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/Game-Engine-0-to-1-00-Nothing-s-Here/" title="Game Engine 0 to 1 (00): Nothing's Here"><img src="https://tonys-studio-1308383348.cos.ap-beijing.myqcloud.com/blog/static/cover/mando/01/10.jpeg" onerror="this.onerror=null;this.src='https://tonys-studio-1308383348.cos.ap-beijing.myqcloud.com/blog/static/404.png'" alt="Game Engine 0 to 1 (00): Nothing's Here"/></a><div class="content"><a class="title" href="/posts/Game-Engine-0-to-1-00-Nothing-s-Here/" title="Game Engine 0 to 1 (00): Nothing's Here">Game Engine 0 to 1 (00): Nothing's Here</a><time datetime="2025-05-27T11:05:29.000Z" title="Created May. 27th, 2025 - 19:05:29 19:05:29">May. 27th, 2025 - 19:05:29</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url(https://tonys-studio-1308383348.cos.ap-beijing.myqcloud.com/blog/static/cover/mando/10/03.jpeg);"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2025 By Tony Lewis</span></div><div class="footer_custom_text">No bird soars too high if he soars on his own wings</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Reading Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Toggle Between Light and Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle Between Single-column and Double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Settings"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table of Contents"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="Scroll to Comments"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="Back to Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><div class="js-pjax"><script>(() => {
  const runMermaid = ele => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'forest'

    ele.forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const mermaidThemeConfig = `%%{init:{ 'theme':'${theme}'}}%%\n`
      const mermaidID = `mermaid-${index}`
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)
      const renderMermaid = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      // mermaid v9 and v10 compatibility
      typeof renderFn === 'string' ? renderMermaid(renderFn) : renderFn.then(({ svg }) => renderMermaid(svg))
    })
  }

  const codeToMermaid = () => {
    const codeMermaidEle = document.querySelectorAll('pre > code.mermaid')
    if (codeMermaidEle.length === 0) return

    codeMermaidEle.forEach(ele => {
      const preEle = document.createElement('pre')
      preEle.className = 'mermaid-src'
      preEle.hidden = true
      preEle.textContent = ele.textContent
      const newEle = document.createElement('div')
      newEle.className = 'mermaid-wrap'
      newEle.appendChild(preEle)
      ele.parentNode.replaceWith(newEle)
    })
  }

  const loadMermaid = () => {
    if (false) codeToMermaid()
    const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
    if ($mermaid.length === 0) return

    const runMermaidFn = () => runMermaid($mermaid)
    btf.addGlobalFn('themeChange', runMermaidFn, 'mermaid')
    window.loadMermaid ? runMermaidFn() : btf.getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaidFn)
  }

  btf.addGlobalFn('encrypt', loadMermaid, 'mermaid')
  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script><script>(() => {
  let initFn = window.walineFn || null
  const isShuoshuo = GLOBAL_CONFIG_SITE.pageType === 'shuoshuo'
  const option = null

  const destroyWaline = ele => ele.destroy()

  const initWaline = (Fn, el = document, path = window.location.pathname) => {
    const waline = Fn({
      el: el.querySelector('#waline-wrap'),
      serverURL: 'https://comment.tonys-studio.top',
      pageview: true,
      dark: 'html[data-theme="dark"]',
      comment: true,
      ...option,
      path: isShuoshuo ? path : (option && option.path) || path
    })

    if (isShuoshuo) {
      window.shuoshuoComment.destroyWaline = () => {
        destroyWaline(waline)
        if (el.children.length) {
          el.innerHTML = ''
          el.classList.add('no-comment')
        }
      }
    }
  }

  const loadWaline = (el, path) => {
    if (initFn) initWaline(initFn, el, path)
    else {
      btf.getCSS('https://cdn.jsdelivr.net/npm/@waline/client@2/dist/waline.min.css')
        .then(() => import('https://cdn.jsdelivr.net/npm/@waline/client@2/dist/waline.min.js'))
        .then(({ init }) => {
          initFn = init || Waline.init
          initWaline(initFn, el, path)
          window.walineFn = initFn
        })
    }
  }

  if (isShuoshuo) {
    'Waline' === 'Waline'
      ? window.shuoshuoComment = { loadComment: loadWaline } 
      : window.loadOtherComment = loadWaline
    return
  }

  if ('Waline' === 'Waline' || !false) {
    if (false) btf.loadComment(document.getElementById('waline-wrap'),loadWaline)
    else setTimeout(loadWaline, 0)
  } else {
    window.loadOtherComment = loadWaline
  }
})()</script></div><script src="https://tonys-studio-1308383348.cos.ap-beijing.myqcloud.com/blog/static/source/custom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Search</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  Loading Database</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Anything you would like to search?ğŸ”" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div><!-- hexo injector body_end start --><script data-pjax>
  function butterfly_footer_beautify_injector_config(){
    var parent_div_git = document.getElementById('footer');
    var item_html = '<p id="ghbdages"><a class="github-badge" target="_blank" href="https://hexo.io/" style="margin-inline:5px" data-title="Framework Hexo" title=""><img src="https://img.shields.io/badge/Frame-Hexo%205.4.2-blue?style=flat&amp;logo=hexo" alt=""/></a><a class="github-badge" target="_blank" href="https://butterfly.js.org/" style="margin-inline:5px" data-title="Theme Butterfly" title=""><img src="https://img.shields.io/badge/Theme-Butterfly%205.4.3-6513df?style=flat&amp;logo=bitdefender" alt=""/></a><a class="github-badge" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" style="margin-inline:5px" data-title="All articles in this blog are licensed under CC BY-NC-SA 4.0 unless stating additionally." title=""><img src="https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&amp;logo=Claris" alt=""/></a></p>';
    console.log('å·²æŒ‚è½½butterfly_footer_beautify')
    parent_div_git.insertAdjacentHTML("beforeend",item_html)
    }
  var elist = 'null'.split(',');
  var cpage = location.pathname;
  var epage = 'all';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_footer_beautify_injector_config();
  }
  else if (epage === cpage){
    butterfly_footer_beautify_injector_config();
  }
  </script><!-- hexo injector body_end end --></body></html>