<!DOCTYPE html><html lang="en" data-theme="dark"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"><title>Dungeon | TONY'S STUDIO</title><meta name="author" content="Tony Lewis"><meta name="copyright" content="Tony Lewis"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#300303"><meta name="description" content="A rogue-like game developed with EasyX and FMOD in C++."><meta property="og:type" content="article"><meta property="og:title" content="Dungeon"><meta property="og:url" content="https://blog.tonys-studio.top/posts/Dungeon/"><meta property="og:site_name" content="TONY&#39;S STUDIO"><meta property="og:description" content="A rogue-like game developed with EasyX and FMOD in C++."><meta property="og:locale" content="en_US"><meta property="og:image" content="https://tonys-studio-1308383348.cos.ap-beijing.myqcloud.com/blog/static/posts/Dungeon.png"><meta property="article:published_time" content="2023-01-04T13:45:04.000Z"><meta property="article:modified_time" content="2026-02-22T13:17:38.655Z"><meta property="article:author" content="Tony Lewis"><meta property="article:tag" content="C&#x2F;C++"><meta property="article:tag" content="EasyX"><meta property="article:tag" content="FMOD"><meta property="article:tag" content="Game"><meta property="article:tag" content="Repo Available"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://tonys-studio-1308383348.cos.ap-beijing.myqcloud.com/blog/static/posts/Dungeon.png"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Dungeon",
  "url": "https://blog.tonys-studio.top/posts/Dungeon/",
  "image": "https://tonys-studio-1308383348.cos.ap-beijing.myqcloud.com/blog/static/posts/Dungeon.png",
  "datePublished": "2023-01-04T13:45:04.000Z",
  "dateModified": "2026-02-22T13:17:38.655Z",
  "author": [
    {
      "@type": "Person",
      "name": "Tony Lewis",
      "url": "https://www.tonys-studio.top"
    }
  ]
}</script><link rel="shortcut icon" href="https://tonys-studio-1308383348.cos.ap-beijing.myqcloud.com/blog/static/favicon.svg"><link rel="canonical" href="https://blog.tonys-studio.top/posts/Dungeon/"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="//hm.baidu.com"><link rel="preconnect" href="//www.clarity.ms"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload='this.media="all"'><script>(()=>{const t={set:(e,t,o)=>{if(!o)return;const a=Date.now()+864e5*o;localStorage.setItem(e,JSON.stringify({value:t,expiry:a}))},get:e=>{const t=localStorage.getItem(e);if(!t)return;const{value:o,expiry:a}=JSON.parse(t);if(!(Date.now()>a))return o;localStorage.removeItem(e)}};window.btf={saveToLocal:t,getScript:(e,t={})=>new Promise((o,a)=>{const n=document.createElement("script");n.src=e,n.async=!0,Object.entries(t).forEach(([e,t])=>n.setAttribute(e,t)),n.onload=n.onreadystatechange=()=>{n.readyState&&!/loaded|complete/.test(n.readyState)||o()},n.onerror=a,document.head.appendChild(n)}),getCSS:(e,t)=>new Promise((o,a)=>{const n=document.createElement("link");n.rel="stylesheet",n.href=e,t&&(n.id=t),n.onload=n.onreadystatechange=()=>{n.readyState&&!/loaded|complete/.test(n.readyState)||o()},n.onerror=a,document.head.appendChild(n)}),addGlobalFn:(e,t,o=!1,a=window)=>{if(e.startsWith("pjax"))return;const n=a.globalFn||{};n[e]=n[e]||{},n[e][o||Object.keys(n[e]).length]=t,a.globalFn=n}};const o=()=>{document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#300303")},a=()=>{document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","undefined")};btf.activateDarkMode=o,btf.activateLightMode=a;const n=t.get("theme"),r=window.matchMedia("(prefers-color-scheme: dark)"),c=window.matchMedia("(prefers-color-scheme: light)");if(void 0===n){if(c.matches)a();else if(r.matches)o();else{const e=(new Date).getHours();e<=6||e>=18?o():a()}r.addEventListener("change",()=>{void 0===t.get("theme")&&(e.matches?o():a())})}else"light"===n?a():o();const d=t.get("aside-status");void 0!==d&&document.documentElement.classList.toggle("hide-aside","hide"===d);/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})()</script><script>var _hmt=_hmt||[];!function(){var t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?68629f5da0a0c3347b896920fbf164b5";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(t,a)}(),btf.addGlobalFn("pjaxComplete",()=>{_hmt.push(["_trackPageview",window.location.pathname])},"baidu_analytics")</script><script>!function(t,e,n,c,r,s,a){t[n]=t[n]||function(){(t[n].q=t[n].q||[]).push(arguments)},(s=e.createElement(c)).async=1,s.src="https://www.clarity.ms/tag/sthrplbt7c",(a=e.getElementsByTagName(c)[0]).parentNode.insertBefore(s,a)}(window,document,"clarity","script")</script><script>const GLOBAL_CONFIG={root:"/",algolia:void 0,localSearch:{path:"/search.xml",preload:!1,top_n_per_article:3,unescape:!1,pagination:{enable:!0,hitsPerPage:8},languages:{hits_empty:"No results found for: ${query}",hits_stats:"${hits} articles found"}},translate:void 0,highlight:{plugin:"highlight.js",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:300,highlightFullpage:!1,highlightMacStyle:!1},copy:{success:"Copy Successful",error:"Copy Failed",noSupport:"Browser Not Supported"},relativeDate:{homepage:!1,post:!1},runtime:"days",dateSuffix:{just:"Just now",min:"minutes ago",hour:"hours ago",day:"days ago",month:"months ago"},copyright:{limitCount:256,languages:{author:"Author: Tony Lewis",link:"Link: ",source:"Source: TONY'S STUDIO",info:"Copyright belongs to the author. For commercial use, please contact the author for authorization. For non-commercial use, please indicate the source."}},lightbox:"fancybox",Snackbar:{chs_to_cht:"You have switched to Traditional Chinese",cht_to_chs:"You have switched to Simplified Chinese",day_to_night:"You have switched to Dark Mode",night_to_day:"You have switched to Light Mode",bgLight:"#871798",bgDark:"#C81025",position:"bottom-left"},infinitegrid:{js:"https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js",buttonText:"Load More"},isPhotoFigcaption:!1,islazyloadPlugin:!1,isAnchor:!1,percent:{toc:!0,rightside:!0},autoDarkmode:!0}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"Dungeon",isHighlightShrink:!1,isToc:!0,pageType:"post"}</script><link rel="stylesheet" href="/static/custom.css"><meta name="generator" content="Hexo 8.1.1"></head><body><script>window.paceOptions={restartOnPushState:!1},btf.addGlobalFn("pjaxSend",()=>{Pace.restart()},"pace_restart")</script><link rel="stylesheet" href="/static/barber-shop.css"><script src="https://cdn.jsdelivr.net/npm/pace-js/pace.min.js"></script><div class="bg-animation" id="web_bg" style="background-image:url(https://tonys-studio-1308383348.cos.ap-beijing.myqcloud.com/blog/static/background.png)"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="https://tonys-studio-1308383348.cos.ap-beijing.myqcloud.com/blog/static/avatar.png" onerror='this.onerror=null,this.src="https://tonys-studio-1308383348.cos.ap-beijing.myqcloud.com/blog/static/missing.gif"' alt="avatar"></div><div class="site-data text-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">100</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">88</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">21</div></a></div><div class="menus_items"><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-newspaper"></i><span> Posts</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/gallery/"><i class="fa-fw fas fa-images"></i><span> Gallery</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Links</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-jedi fa-beat"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image:url(https://tonys-studio-1308383348.cos.ap-beijing.myqcloud.com/blog/static/posts/Dungeon.png)"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><img class="site-icon" src="https://tonys-studio-1308383348.cos.ap-beijing.myqcloud.com/blog/static/logo.svg" alt="Logo"><span class="site-name">TONY'S STUDIO</span></a><a class="nav-page-title" href="/"><span class="site-name">Dungeon</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span> Back to Home</span></span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> Search</span></span></div><div class="menus_items"><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-newspaper"></i><span> Posts</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/gallery/"><i class="fa-fw fas fa-images"></i><span> Gallery</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Links</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-jedi fa-beat"></i><span> About</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">Dungeon</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2023-01-04T13:45:04.000Z" title="Created Jan. 4th, 2023 - 21:45:04 21:45:04">Jan. 4th, 2023 - 21:45:04</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2026-02-22T13:17:38.655Z" title="Updated Feb. 22nd, 2026 - 21:17:38 21:17:38">Feb. 22nd, 2026 - 21:17:38</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Projects/">Projects</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">Word Count:</span><span class="word-count">1k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">Reading Time:</span><span>6mins</span></span><span class="post-meta-separator">|</span><span data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post Views:</span><span class="waline-pageview-count" data-path="/posts/Dungeon/"><i class="fa-solid fa-spinner fa-spin"></i></span></span><span class="post-meta-separator">|</span><span class="post-meta-commentcount"><i class="far fa-comments fa-fw post-meta-icon"></i><span class="post-meta-label">Comments:</span><a href="/posts/Dungeon/#post-comment"><span class="waline-comment-count" data-path="/posts/Dungeon/"><i class="fa-solid fa-spinner fa-spin"></i></span></a></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><html><head></head><body><h1 id="Dungeon"><a href="#Dungeon" class="headerlink" title="Dungeon"></a>Dungeon</h1><p>Copyright Â© New Desire Studios 2022 - 2023</p><hr><h2 id="1-Project-Introduction"><a href="#1-Project-Introduction" class="headerlink" title="1. Project Introduction"></a>1. Project Introduction</h2><p>Years ago, I quite like mobile game Soul Knight, and hoped to make a similar one. Recently, I happened to learn some basic design patterns, so I wish this could be my first practice. Before, I did make some games, but they were all small, and poor management can do the job. So this time, Iâ€™d also want to create a simple frame for game development, that is to say, a game engine, which could provide more flexibility and expansibility.</p><p>Visit <a target="_blank" rel="noopener" href="https://old.tonys-studio.top/project/dungeon.html">Dungeon</a> for more information!</p><h3 id="Download"><a href="#Download" class="headerlink" title="Download"></a>Download</h3><ul><li><a href="https://tonys-studio-1308383348.cos.ap-beijing.myqcloud.com/blog/file/dungeon/Dungeon-Setup.exe" target="_blank">Dungeon-Setup.exe</a></li><li><a href="https://tonys-studio-1308383348.cos.ap-beijing.myqcloud.com/blog/file/dungeon/Dungeon-Portable.zip" target="_blank">Dungeon-Portable.zip</a></li></ul><h3 id="Links"><a href="#Links" class="headerlink" title="Links"></a>Links</h3><ul><li>Star Dungeon on <a target="_blank" rel="noopener" href="https://github.com/Lord-Turmoil/Dungeon">Github</a>!</li><li>Star Dungeon on <a target="_blank" rel="noopener" href="https://gitee.com/tonys-studio/dungeon">Gitee</a>!</li></ul><h3 id="Screenshots"><a href="#Screenshots" class="headerlink" title="Screenshots"></a>Screenshots</h3><img src="/posts/Dungeon/capture-1.png" alt="capture-1" style="zoom:33%"> <img src="/posts/Dungeon/capture-2.png" alt="capture-2" style="zoom:33%"><h2 id="2-Building-Dungeon"><a href="#2-Building-Dungeon" class="headerlink" title="2. Building Dungeon"></a>2. Building Dungeon</h2><p>There are three projects in this Visual Studio solution: Dungeon, Dungine and TinyXML2. <a target="_blank" rel="noopener" href="https://github.com/leethomason/tinyxml2">TinyXML2</a> is a great XML parser so I use this to pack it into a static library. And Dungine is the so callled game engine. Just simply build the solution is OK. Dungeon is the start up project, and Release configuration will output the executable to <code>Publish\</code> directory, while Debug configuration will output to <code>Build\dist\Debug\</code>. All macros for debug are disabled.</p><blockquote><p>Since the resource files is mutable, and is mainly used for debug purpose during coding, I removed them from the source file folder.</p><p>If your want to compile and run it in IDE, please download the latest binary release file at either of these places.</p><ul><li><p><a target="_blank" rel="noopener" href="http://tonys-studio.top:82/project/dungeon.html">Release Page</a></p></li><li><p><a href="/posts/Dungeon/">My Blog</a></p></li></ul><p>Then, copy the <code>res</code> folder to the root directory of the game project <code>Dungeon</code>. (Which contains <code>Dungeon.vcxproj</code>.)</p></blockquote><h3 id="Build-Environment"><a href="#Build-Environment" class="headerlink" title="Build Environment"></a>Build Environment</h3><ul><li>Windows 11 Pro</li><li>Visual Studio 2022 Community</li><li><a target="_blank" rel="noopener" href="https://easyx.cn/">EasyX 20220901</a></li><li><a target="_blank" rel="noopener" href="https://fmod.com/">FMOD 0.2.2.7</a></li></ul><p>Notice that in EasyX 20220901, prefix for message changed from <code>EM</code> to <code>EX</code>. If you want to keep outdated features, please include <code>&lt;graphics.h&gt;</code> in your code.</p><h2 id="3-How-Does-Dungeon-Work"><a href="#3-How-Does-Dungeon-Work" class="headerlink" title="3. How Does Dungeon Work"></a>3. How Does Dungeon Work</h2><p>The game contains the game engine Dungine (Dungeon Engine) and the game Dungeon itself. It is developed with <a target="_blank" rel="noopener" href="https://easyx.cn/">EasyX</a> for graphics and <a target="_blank" rel="noopener" href="https://fmod.com/">FMOD</a> for audio. Also, tinyxml2 as mentioned before.</p><h3 id="3-1-Dungine"><a href="#3-1-Dungine" class="headerlink" title="3.1 Dungine"></a>3.1 Dungine</h3><p>This is the game engine, including basic classes, encapsulations and a simple UI library. It was build with ECS pattern.</p><h4 id="3-1-1-Game-Object"><a href="#3-1-1-Game-Object" class="headerlink" title="3.1.1 Game Object"></a>3.1.1 Game Object</h4><p>The core of a game frame is to manage all objects. For common objects in game, including characters, weapons, bullets, etc., I used Factory Pattern and Prototype Pattern to create them, and Component Pattern to add properties and behaviors.</p><h4 id="3-1-2-Scene"><a href="#3-1-2-Scene" class="headerlink" title="3.1.2 Scene"></a>3.1.2 Scene</h4><p>Scene manages all game objects. It maintains a object pool, just a pool, no reuse things. One important thing is that adding or removing objects during scene update should be postponed till update finishes.</p><h4 id="3-1-3-Graphics-and-Audio"><a href="#3-1-3-Graphics-and-Audio" class="headerlink" title="3.1.3 Graphics and Audio"></a>3.1.3 Graphics and Audio</h4><p>For graphics, the one and only thing to render is a <code>Symbol</code>, it includes position, layer, rotation angle, scale and alpha info, and is rendered in order of layer and position.</p><p>For audio, I used FMOD, and there are two types of sound. Effect, e.g. click and fire. The other is background music.</p><h4 id="3-1-4-Resource-Management"><a href="#3-1-4-Resource-Management" class="headerlink" title="3.1.4 Resource Management"></a>3.1.4 Resource Management</h4><p>Well, the resource management is not advanced, I made it up without reference.</p><p>When the program starts, it reads all reference of resource in a XML file, and only load it when required. Then, like smart pointer, it will release it if reference count is zero. There are image, audio, and motion resource. Motion resource is sprite sheet for animation.</p><h4 id="3-1-5-UI"><a href="#3-1-5-UI" class="headerlink" title="3.1.5 UI"></a>3.1.5 UI</h4><p>In version 0.1.0, I was inspired by <a target="_blank" rel="noopener" href="https://codebus.cn/contributor/zhurong-easyui">EasyUI</a>. Now, with more consideration, I refactored that, and added more fancy features. However, the basic thing is still, a widget contains drawer and trigger.</p><p>All UI widgets are preferred to be loaded from external XML file, including both absolute and relative positioning, and can also adapt to screen size automatically. Besides, there are some animation effects available, like translation, scaling and alpha change. In version 1.1.0, I introduced animation drawer to support animation widget.</p><p>There is one problem that widgets with animation drawer could not be assigned scaling animation, since animation drawer scales itself to adapt to screen size.</p><p>Interface is the carrier of all events, and is managed by Application, the largest class of all, and the entrance of the program.</p><h4 id="3-1-6-Trivia"><a href="#3-1-6-Trivia" class="headerlink" title="3.1.6 Trivia"></a>3.1.6 Trivia</h4><p>Apart from primary objectives, it provides some other convenient tools, such as XML parse with TinyXML2, some vector calculations, <a target="_blank" rel="noopener" href="https://codebus.cn/sunxiaoyu/quadtree-collision">Quadruple Tree</a>, etc. And some base class for design pattern. Here, Factory Pattern is combined with Prototype to be a Library, so, just get what you want directly from a library.</p><h3 id="3-2-Dungeon"><a href="#3-2-Dungeon" class="headerlink" title="3.2 Dungeon"></a>3.2 Dungeon</h3><p>Well, this part is the actual game logic based on Dungine. The main stuff it does is to concrete game procedure, terrain, objects, and interfaces.</p><h4 id="3-2-1-Walkthrough"><a href="#3-2-1-Walkthrough" class="headerlink" title="3.2.1 Walkthrough"></a>3.2.1 Walkthrough</h4><p><code>Dungeon</code> is the core of the game, derived from <code>Scene</code>. It initialize resources, call terrain generation, and manage some special objects with special behaviors.</p><h4 id="3-2-2-Terrain"><a href="#3-2-2-Terrain" class="headerlink" title="3.2.2 Terrain"></a>3.2.2 Terrain</h4><p>Terrain is one of the most complicated part of the game. It use random Prim algorithm to generate a maze in a 3 * 3 graph. Then it implements the real map based on this plain graph, turning nodes into Arenas, and edges into Bridges.</p><p>Besides, it provides A* algorithm for path finding, and a blank area finding algorihtm.</p><h4 id="3-2-3-Property-and-Behavior"><a href="#3-2-3-Property-and-Behavior" class="headerlink" title="3.2.3 Property and Behavior"></a>3.2.3 Property and Behavior</h4><p>All these are added by component. For example, there are <code>RigidBodyComponent</code>, <code>ColliderBoxComponent</code> for collision, <code>MoveComponent</code> for movement, and <code>AnimComponent</code> for rendering. For interaction and â€˜AIâ€™, there is <code>BehaviorComponent</code>, which really reduced dependency of objects.</p><h4 id="3-2-4-Interface"><a href="#3-2-4-Interface" class="headerlink" title="3.2.4 Interface"></a>3.2.4 Interface</h4><p>Interface is where every event takes place, and each of them is an specific class. Interface layout is provided by XML file, but events has to be hooked by hard coding.</p><h4 id="3-2-5-Flexibility"><a href="#3-2-5-Flexibility" class="headerlink" title="3.2.5 Flexibility"></a>3.2.5 Flexibility</h4><p>Most of the game data are loaded from external XML file, so you can easily modify the game without re-compile it. For example, change character properties, add new image or audio, even new character and weapon!</p><h2 id="4-Epilogue"><a href="#4-Epilogue" class="headerlink" title="4. Epilogue"></a>4. Epilogue</h2><p>Almost all image were drawn by myself, some of them were collected from the internet, but made my own modification. In-game sound track comes from the game Undertale, the other were created by my mother.</p><p>I created every character and weapon with personal attachments, so it was never balanced, some weapons are extremely powerful, while others may be a littleâ€¦ weak.</p><p>Thanks for your playing!</p></body></html></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>Author: </span><span class="post-copyright-info"><a target="_blank" rel="noopener" href="https://www.tonys-studio.top">Tony Lewis</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>Link: </span><span class="post-copyright-info"><a href="https://blog.tonys-studio.top/posts/Dungeon/">https://blog.tonys-studio.top/posts/Dungeon/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>Copyright Notice: </span><span class="post-copyright-info">All articles on this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless otherwise stated.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Repo-Available/">Repo Available</a><a class="post-meta__tags" href="/tags/C-C/">C/C++</a><a class="post-meta__tags" href="/tags/Game/">Game</a><a class="post-meta__tags" href="/tags/EasyX/">EasyX</a><a class="post-meta__tags" href="/tags/FMOD/">FMOD</a></div><div class="post-share"><div class="addtoany"><div class="a2a_kit a2a_kit_size_32 a2a_default_style"><a class="a2a_button_wechat"></a><a class="a2a_button_qzone"></a><a class="a2a_button_sina_weibo"></a><a class="a2a_button_telegram"></a><a class="a2a_button_whatsapp"></a><a class="a2a_button_facebook"></a><a class="a2a_button_twitter"></a><a class="a2a_button_email"></a><a class="a2a_button_copy_link"></a><a class="a2a_dd" target="_blank" rel="noopener" href="https://www.addtoany.com/share"></a></div></div><script async src="https://static.addtoany.com/menu/page.js"></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/posts/Analyze-Java-with-SonarQube-and-SonarScanner/" title="Analyze Java With SonarQube and SonarScanner"><img class="cover" src="https://tonys-studio-1308383348.cos.ap-beijing.myqcloud.com/blog/static/cover/mando/23/09.jpeg" onerror='onerror=null,src="https://tonys-studio-1308383348.cos.ap-beijing.myqcloud.com/blog/static/404.png"' alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">Previous</div><div class="info-item-2">Analyze Java With SonarQube and SonarScanner</div></div><div class="info-2"><div class="info-item-1">Configure SonarQube step by step.</div></div></div></a><a class="pagination-related" href="/posts/Inter-Thread-Communication/" title="Inter-Thread Communication"><img class="cover" src="https://tonys-studio-1308383348.cos.ap-beijing.myqcloud.com/blog/static/cover/boba/06/04.jpeg" onerror='onerror=null,src="https://tonys-studio-1308383348.cos.ap-beijing.myqcloud.com/blog/static/404.png"' alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">Next</div><div class="info-item-2">Inter-Thread Communication</div></div><div class="info-2"><div class="info-item-1">Chapter Eight - Inter Thread Communication</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>Related Articles</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/posts/Introduction-to-C-Game-Development/" title="Introduction to C++ Game Development"><img class="cover" src="https://tonys-studio-1308383348.cos.ap-beijing.myqcloud.com/blog/static/posts/Introduction-to-C-Game-Development.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> Aug. 12th, 2023 - 11:53:56</div><div class="info-item-2">Introduction to C++ Game Development</div></div><div class="info-2"><div class="info-item-1">Get started with C++ game development using EasyX</div></div></div></a><a class="pagination-related" href="/posts/MinIoC-A-Miniature-IoC-Container-in-C/" title="MinIoC: A Miniature IoC Container in C++"><img class="cover" src="https://tonys-studio-1308383348.cos.ap-beijing.myqcloud.com/blog/static/cover/boba/06/07.jpeg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> Oct. 6th, 2023 - 13:36:02</div><div class="info-item-2">MinIoC: A Miniature IoC Container in C++</div></div><div class="info-2"><div class="info-item-1">MinIoC is a lightweight IoC container for C++ 11 and later</div></div></div></a><a class="pagination-related" href="/posts/Modern-C-Project-with-CMake/" title="Modern C++ Project With CMake"><img class="cover" src="https://tonys-studio-1308383348.cos.ap-beijing.myqcloud.com/blog/static/cover/mando/13/03.jpeg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> Dec. 24th, 2024 - 16:12:08</div><div class="info-item-2">Modern C++ Project With CMake</div></div><div class="info-2"><div class="info-item-1">Build modern C++ project with CMake</div></div></div></a><a class="pagination-related" href="/posts/Game-Engine-0-to-1-00-Nothing-s-Here/" title="Game Engine 0 to 1 (00): Nothing&#39;s Here"><img class="cover" src="https://tonys-studio-1308383348.cos.ap-beijing.myqcloud.com/blog/static/cover/mando/11/03.jpeg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> May. 27th, 2025 - 19:05:29</div><div class="info-item-2">Game Engine 0 to 1 (00): Nothing&#39;s Here</div></div><div class="info-2"><div class="info-item-1">Game Engine Series 00: Prologue</div></div></div></a><a class="pagination-related" href="/posts/Getting-Started-with-CUDA/" title="Getting Started With CUDA"><img class="cover" src="https://tonys-studio-1308383348.cos.ap-beijing.myqcloud.com/blog/static/cover/mando/11/09.jpeg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> Jun. 4th, 2024 - 14:05:56</div><div class="info-item-2">Getting Started With CUDA</div></div><div class="info-2"><div class="info-item-1">Take your first step into CUDA&reg; to unleash the power of your GPU!</div></div></div></a><a class="pagination-related" href="/posts/Game-Engine-0-to-1-01-It-Starts-Now/" title="Game Engine 0 to 1 (01): It Starts Now"><img class="cover" src="https://tonys-studio-1308383348.cos.ap-beijing.myqcloud.com/blog/static/cover/mando/03/09.jpeg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> Jun. 1st, 2025 - 14:45:32</div><div class="info-item-2">Game Engine 0 to 1 (01): It Starts Now</div></div><div class="info-2"><div class="info-item-1">Game Engine Series 01: Project setup</div></div></div></a></div></div><hr class="custom-hr"><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> Comments</span></div></div><div class="comment-wrap"><div><div id="waline-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="https://tonys-studio-1308383348.cos.ap-beijing.myqcloud.com/blog/static/avatar.png" onerror='this.onerror=null,this.src="https://tonys-studio-1308383348.cos.ap-beijing.myqcloud.com/blog/static/missing.gif"' alt="avatar"></div><div class="author-info-name">Tony Lewis</div><div class="author-info-description">Do or do not. There is no try.</div><div class="site-data"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">100</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">88</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">21</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Lord-Turmoil"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/Lord-Turmoil" target="_blank" title="Github"><i class="fa-brands fa-github"></i></a><a class="social-icon" href="mailto:swift-phantom@outlook.com" target="_blank" title="Email"><i class="fa-solid fa-envelope"></i></a><a class="social-icon" href="https://space.bilibili.com/2030942344" target="_blank" title="BiliBili"><i class="fa-brands fa-bilibili"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">Hello there!</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Contents</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Dungeon"><span class="toc-text">Dungeon</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-Project-Introduction"><span class="toc-text">1. Project Introduction</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Download"><span class="toc-text">Download</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Links"><span class="toc-text">Links</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Screenshots"><span class="toc-text">Screenshots</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-Building-Dungeon"><span class="toc-text">2. Building Dungeon</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Build-Environment"><span class="toc-text">Build Environment</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-How-Does-Dungeon-Work"><span class="toc-text">3. How Does Dungeon Work</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-Dungine"><span class="toc-text">3.1 Dungine</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-1-Game-Object"><span class="toc-text">3.1.1 Game Object</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-2-Scene"><span class="toc-text">3.1.2 Scene</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-3-Graphics-and-Audio"><span class="toc-text">3.1.3 Graphics and Audio</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-4-Resource-Management"><span class="toc-text">3.1.4 Resource Management</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-5-UI"><span class="toc-text">3.1.5 UI</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-6-Trivia"><span class="toc-text">3.1.6 Trivia</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-Dungeon"><span class="toc-text">3.2 Dungeon</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-1-Walkthrough"><span class="toc-text">3.2.1 Walkthrough</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-2-Terrain"><span class="toc-text">3.2.2 Terrain</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-3-Property-and-Behavior"><span class="toc-text">3.2.3 Property and Behavior</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-4-Interface"><span class="toc-text">3.2.4 Interface</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-5-Flexibility"><span class="toc-text">3.2.5 Flexibility</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-Epilogue"><span class="toc-text">4. Epilogue</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Posts</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/Advanced-C-Workshop-2023-03/" title="Advanced C++ Workshop 2023 (03)"><img src="https://tonys-studio-1308383348.cos.ap-beijing.myqcloud.com/blog/static/posts/CSCS.jpg" onerror='this.onerror=null,this.src="https://tonys-studio-1308383348.cos.ap-beijing.myqcloud.com/blog/static/404.png"' alt="Advanced C++ Workshop 2023 (03)"></a><div class="content"><a class="title" href="/posts/Advanced-C-Workshop-2023-03/" title="Advanced C++ Workshop 2023 (03)">Advanced C++ Workshop 2023 (03)</a><time datetime="2026-02-22T13:16:59.000Z" title="Created Feb. 22nd, 2026 - 21:16:59 21:16:59">Feb. 22nd, 2026 - 21:16:59</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/Advanced-C-Workshop-2023-02/" title="Advanced C++ Workshop 2023 (02)"><img src="https://tonys-studio-1308383348.cos.ap-beijing.myqcloud.com/blog/static/posts/CSCS.jpg" onerror='this.onerror=null,this.src="https://tonys-studio-1308383348.cos.ap-beijing.myqcloud.com/blog/static/404.png"' alt="Advanced C++ Workshop 2023 (02)"></a><div class="content"><a class="title" href="/posts/Advanced-C-Workshop-2023-02/" title="Advanced C++ Workshop 2023 (02)">Advanced C++ Workshop 2023 (02)</a><time datetime="2026-02-21T09:38:11.000Z" title="Created Feb. 21st, 2026 - 17:38:11 17:38:11">Feb. 21st, 2026 - 17:38:11</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/Advanced-C-Workshop-2023-01/" title="Advanced C++ Workshop 2023 (01)"><img src="https://tonys-studio-1308383348.cos.ap-beijing.myqcloud.com/blog/static/posts/CSCS.jpg" onerror='this.onerror=null,this.src="https://tonys-studio-1308383348.cos.ap-beijing.myqcloud.com/blog/static/404.png"' alt="Advanced C++ Workshop 2023 (01)"></a><div class="content"><a class="title" href="/posts/Advanced-C-Workshop-2023-01/" title="Advanced C++ Workshop 2023 (01)">Advanced C++ Workshop 2023 (01)</a><time datetime="2026-02-21T09:38:04.000Z" title="Created Feb. 21st, 2026 - 17:38:04 17:38:04">Feb. 21st, 2026 - 17:38:04</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/Symbolic-Execution-with-KLEE/" title="Symbolic Execution With KLEE"><img src="https://tonys-studio-1308383348.cos.ap-beijing.myqcloud.com/blog/static/cover/boba/06/09.jpeg" onerror='this.onerror=null,this.src="https://tonys-studio-1308383348.cos.ap-beijing.myqcloud.com/blog/static/404.png"' alt="Symbolic Execution With KLEE"></a><div class="content"><a class="title" href="/posts/Symbolic-Execution-with-KLEE/" title="Symbolic Execution With KLEE">Symbolic Execution With KLEE</a><time datetime="2025-11-28T09:39:23.000Z" title="Created Nov. 28th, 2025 - 17:39:23 17:39:23">Nov. 28th, 2025 - 17:39:23</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/Game-Engine-0-to-1-03-What-Fonts-Do-I-have-A-Cross-Platform-Solution/" title="Game Engine 0 to 1 (03): What Fonts Do I Have? a Cross-Platform Solution"><img src="https://tonys-studio-1308383348.cos.ap-beijing.myqcloud.com/blog/static/cover/mando/08/02.jpeg" onerror='this.onerror=null,this.src="https://tonys-studio-1308383348.cos.ap-beijing.myqcloud.com/blog/static/404.png"' alt="Game Engine 0 to 1 (03): What Fonts Do I Have? a Cross-Platform Solution"></a><div class="content"><a class="title" href="/posts/Game-Engine-0-to-1-03-What-Fonts-Do-I-have-A-Cross-Platform-Solution/" title="Game Engine 0 to 1 (03): What Fonts Do I Have? a Cross-Platform Solution">Game Engine 0 to 1 (03): What Fonts Do I Have? a Cross-Platform Solution</a><time datetime="2025-10-20T12:59:54.000Z" title="Created Oct. 20th, 2025 - 20:59:54 20:59:54">Oct. 20th, 2025 - 20:59:54</time></div></div></div></div></div></div></main><footer id="footer" style="background-image:url(https://tonys-studio-1308383348.cos.ap-beijing.myqcloud.com/blog/static/posts/Dungeon.png)"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2025 - 2026 By Tony Lewis</span></div><div class="footer_custom_text">No bird soars too high if he soars on his own wings</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Reading Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Toggle Between Light and Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle Between Single-column and Double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Settings"><i class="fas fa-cog"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table of Contents"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="Scroll to Comments"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="Back to Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><div class="js-pjax"><script>(()=>{const e=e=>{const t=(e=>{if(!e)return null;const t=e.trim().split(/[\s,]+/).map(e=>Number(e));return 4!==t.length||t.some(e=>Number.isNaN(e))?null:t})(e.getAttribute("viewBox"));if(t)return t;try{const t=e.getBBox();if(t&&t.width&&t.height)return[t.x,t.y,t.width,t.height]}catch(e){}const n=Number(e.getAttribute("width"))||0,i=Number(e.getAttribute("height"))||0;return n>0&&i>0?[0,0,n,i]:[0,0,100,100]},t=(e,t)=>{e.setAttribute("viewBox",`${t[0]} ${t[1]} ${t[2]} ${t[3]}`)},n=(e,t,n)=>Math.max(t,Math.min(n,e)),i=({source:e,initViewBox:t})=>{const n=(()=>{if("string"==typeof e){const t=document.createElement("template");t.innerHTML=e.trim();const n=t.content.querySelector("svg");return n?n.cloneNode(!0):null}return e&&"function"==typeof e.cloneNode?e.cloneNode(!0):null})();if(!n)return;t&&4===t.length&&n.setAttribute("viewBox",t.join(" ")),n.getAttribute("xmlns")||n.setAttribute("xmlns","http://www.w3.org/2000/svg"),!n.getAttribute("xmlns:xlink")&&n.outerHTML.includes("xlink:")&&n.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink");const i="dark"===document.documentElement.getAttribute("data-theme"),r=getComputedStyle(document.body).backgroundColor||(i?"#1e1e1e":"#ffffff");n.style.background||(n.style.background=r);const o=(new XMLSerializer).serializeToString(n),s=new Blob([`<!doctype html><html><head><meta charset="utf-8" />\n      <style>\n        html, body { width: 100%; height: 100%; margin: 0; display: flex; align-items: center; justify-content: center; background: ${r}; }\n        svg { max-width: 100%; max-height: 100%; height: auto; width: auto; }\n      </style>\n      </head><body>${o}</body></html>`],{type:"text/html;charset=utf-8"}),a=URL.createObjectURL(s);window.open(a,"_blank","noopener"),setTimeout(()=>URL.revokeObjectURL(a),3e4)},r=(e,t,n,i)=>{const r=e[2]*t,o=e[3]*t;return[n-(n-e[0])*t,i-(i-e[1])*t,r,o]},o=i=>{const o=i.querySelector("svg");if(!o)return;const s=e(o);if(i.__mermaidInitViewBox=s,i.__mermaidCurViewBox=s.slice(),t(o,s),i.__mermaidGestureBound)return;i.__mermaidGestureBound=!0;const a=(t,n)=>{const r=o.getBoundingClientRect(),s=i.__mermaidCurViewBox||e(o);return{x:s[0]+(t-r.left)*(s[2]/r.width),y:s[1]+(n-r.top)*(s[3]/r.height),rect:r,vb:s}},d={pointers:new Map,startVb:null,startDist:0,startCenter:null},m=e=>{e=(e=>{const t=i.__mermaidInitViewBox||e,r=.1*t[2],o=10*t[2],s=.1*t[3],a=10*t[3];return e[2]=n(e[2],r,o),e[3]=n(e[3],s,a),e})(e),i.__mermaidCurViewBox=e,t(o,e)},l=e=>{d.pointers.delete(e.pointerId),0===d.pointers.size?(d.startVb=null,d.startDist=0,d.startCenter=null,i.__mermaidLastSinglePointer=null):1===d.pointers.size&&(i.__mermaidLastSinglePointer=[...d.pointers.values()][0])};o.addEventListener("pointerdown",t=>{if("mouse"!==t.pointerType||0===t.button)if(o.setPointerCapture(t.pointerId),d.pointers.set(t.pointerId,{x:t.clientX,y:t.clientY}),1===d.pointers.size)d.startVb=(i.__mermaidCurViewBox||e(o)).slice();else if(2===d.pointers.size){const t=[...d.pointers.values()],n=t[0].x-t[1].x,r=t[0].y-t[1].y;d.startDist=Math.hypot(n,r),d.startVb=(i.__mermaidCurViewBox||e(o)).slice(),d.startCenter={x:(t[0].x+t[1].x)/2,y:(t[0].y+t[1].y)/2}}}),o.addEventListener("pointermove",t=>{if(d.pointers.has(t.pointerId))if(d.pointers.set(t.pointerId,{x:t.clientX,y:t.clientY}),1===d.pointers.size&&d.startVb){const n=[...d.pointers.values()][0],r=(t.clientX,t.movementX,t.clientY,t.movementY,i.__mermaidLastSinglePointer||n),s=n.x-r.x,l=n.y-r.y;i.__mermaidLastSinglePointer=n;const{rect:c}=a(n.x,n.y),u=(i.__mermaidCurViewBox||e(o)).slice(),p=s*(u[2]/c.width),h=l*(u[3]/c.height);m([u[0]-p,u[1]-h,u[2],u[3]])}else if(2===d.pointers.size&&d.startVb&&d.startDist>0){const e=[...d.pointers.values()],t=e[0].x-e[1].x,n=e[0].y-e[1].y,i=Math.hypot(t,n);if(!i)return;const o=d.startDist/i,s={x:(e[0].x+e[1].x)/2,y:(e[0].y+e[1].y)/2},l=a(s.x,s.y),c=l.x,u=l.y,p=r(d.startVb,o,c,u);m(p)}}),o.addEventListener("pointerup",l),o.addEventListener("pointercancel",l),o.addEventListener("wheel",t=>{t.preventDefault();const n=t.deltaY>0?1.1:.9,{x:s,y:d}=a(t.clientX,t.clientY),l=(i.__mermaidCurViewBox||e(o)).slice();m(r(l,n,s,d))},{passive:!1}),o.addEventListener("dblclick",()=>{const e=i.__mermaidInitViewBox;e&&(i.__mermaidCurViewBox=e.slice(),t(o,e))})},s=e=>{window.loadMermaid=!0;const t="dark"===document.documentElement.getAttribute("data-theme")?"dark":"forest";e.forEach((e,n)=>{const r=e.firstElementChild,s=e.querySelector("svg");s&&s.remove(),e.__mermaidGestureBound=!1;const a=r.dataset.config?JSON.parse(r.dataset.config):{};a.theme||(a.theme=t);const d="mermaid-"+n,m=`%%{init: ${JSON.stringify(a)}}%%\n`+r.textContent,l=mermaid.render(d,m),c=t=>{r.insertAdjacentHTML("afterend",t),o(e),e.__mermaidOriginalSvg=t,(e=>{let t=e.querySelector(".mermaid-open-btn");t||(t=document.createElement("button"),t.type="button",t.className="mermaid-open-btn",e.appendChild(t)),t.innerHTML='<i class="fa fa-search fa-fw" aria-hidden="true"></i>',t.__mermaidViewerBound||(t.addEventListener("click",t=>{t.preventDefault(),t.stopPropagation();const n=e.__mermaidOriginalSvg||e.querySelector("svg");if(!n)return;const r=e.__mermaidInitViewBox;i({source:n,initViewBox:r})}),t.__mermaidViewerBound=!0)})(e)};"string"==typeof l?c(l):l.then(({svg:e})=>c(e))})},a=()=>{const e=document.querySelectorAll("#article-container .mermaid-wrap");if(0===e.length)return;const t=()=>s(e);btf.addGlobalFn("themeChange",t,"mermaid"),window.loadMermaid?t():btf.getScript("https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js").then(t)};btf.addGlobalFn("encrypt",a,"mermaid"),window.pjax?a():document.addEventListener("DOMContentLoaded",a)})()</script><script>(()=>{let n=window.walineFn||null;const e="shuoshuo"===GLOBAL_CONFIG_SITE.pageType,t=(n,t=document,i=window.location.pathname)=>{const o=n({el:t.querySelector("#waline-wrap"),serverURL:"https://comment.tonys-studio.top",pageview:!0,dark:'html[data-theme="dark"]',comment:!0,path:i});e&&(window.shuoshuoComment.destroyWaline=()=>{o.destroy(),t.children.length&&(t.innerHTML="",t.classList.add("no-comment"))})},i=(e,i)=>{n?t(n,e,i):btf.getCSS("https://cdn.jsdelivr.net/npm/@waline/client@2/dist/waline.min.css").then(()=>import("https://cdn.jsdelivr.net/npm/@waline/client@2/dist/waline.min.js")).then(({init:o})=>{n=o||Waline.init,t(n,e,i),window.walineFn=n})};e?window.shuoshuoComment={loadComment:i}:setTimeout(i,0)})()</script></div><script src="/static/custom.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful=!0,POWERMODE.shake=!0,POWERMODE.mobile=!1,document.body.addEventListener("input",POWERMODE)</script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Search</span><i class="fas fa-spinner fa-pulse" id="loading-status" hidden></i><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span> Loading Database</span></div><div class="local-search-input"><input placeholder="Looking for something?ðŸ”" type="text"></div><hr><div id="local-search-results"></div><div class="ais-Pagination" id="local-search-pagination" style="display:none"><ul class="ais-Pagination-list"></ul></div><div id="local-search-stats"></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>